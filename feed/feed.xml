<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<title>{ LebCit }</title>
	<subtitle>Autodidactic Web Developer. Love to Read, Learn &amp; DIMySelf !</subtitle>
	
	<link href="https://lebcit.github.io/feed/feed.xml" rel="self"/>
	<link href="https://lebcit.github.io/"/>
	<updated>2022-06-30T00:00:00Z</updated>
	<id>https://lebcit.github.io/</id>
	<author>
		<name>LebCit</name>
		<email></email>
	</author>
	
	<entry>
		<title>CSP nonce with Node.js and EJS</title>
		<link href="https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/"/>
		<updated>2022-06-30T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about using a nonce for &lt;a href=&quot;https://content-security-policy.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;CSP&lt;/a&gt; with Node.js and EJS.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;intro&quot;&gt;Intro &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#intro&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In this post, I will not dive into CSP&#39;s details.&lt;br /&gt;
The link in the description, above, is enough for a simple introduction to the subject, but if you wish to go deeper I&#39;ll suggest to take a look at :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Content Security Policy (CSP) on MDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/CSP3/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Content Security Policy Level 3 on W3C&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;csp%3A-script-src&quot;&gt;CSP: script-src &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#csp%3A-script-src&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;CSP is manly a way to declare allowed resources to load on a domain or a particular route, to reduce the risk of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Cross-site scripting (XSS)&lt;/a&gt; attacks.&lt;br /&gt;
When a script loads into a webpage, the browser blocks the script if it&#39;s not defined in the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;script-src&lt;/a&gt; directive of the CSP as an allowed resource.&lt;br /&gt;
When used, CSP will also block inline script tags like :&lt;/p&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;&lt;br /&gt;	&lt;span class=&quot;token function&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;as well as inline event handlers like :&lt;/p&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;btn&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value javascript language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;csp%3A-style-src&quot;&gt;CSP: style-src &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#csp%3A-style-src&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Like &lt;code&gt;script-src&lt;/code&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;style-src&lt;/a&gt; is used to declare the valid sources of styles.&lt;/p&gt;
&lt;p&gt;CSP &lt;code&gt;style-src&lt;/code&gt; directive will block inline style tags and inline style attributes.&lt;br /&gt;
So, the following will not load :&lt;/p&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;// Inline style tag gets ignored&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;&lt;br /&gt;	&lt;span class=&quot;token selector&quot;&gt;#my-div&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; red&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;// Inline style attribute gets also ignored&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;my-div&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;red&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;I will not have a red background !&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that &lt;code&gt;style-src&lt;/code&gt; directive will also block styles applied in JS via &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;setAttribute&lt;/a&gt;.&lt;br /&gt;
The following example will not be rendered :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;my-div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;style&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;background-color:red;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, styles set on element&#39;s style property will work.&lt;br /&gt;
The following example will be rendered :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;my-div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;backgroundColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;unsafe-expressions&quot;&gt;Unsafe expressions &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#unsafe-expressions&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are &lt;strong&gt;unsafe&lt;/strong&gt; ways to whitelist inline script tags, inline event handlers, inline style tags and inline styles, but I&#39;m not going to talk about them because they are &lt;strong&gt;unsafe&lt;/strong&gt; and break the whole point of a CSP !&lt;/p&gt;
&lt;h2 id=&quot;setting-csp-in-node.js&quot;&gt;Setting CSP in Node.js &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#setting-csp-in-node.js&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To define allowed resources in a CSP via Node.js, we have to declare them as a response header :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The user makes a request&lt;/li&gt;
&lt;li&gt;The server sends a response&lt;/li&gt;
&lt;li&gt;The browser loads the page along with allowed resources&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&#39;s in the response header that a CSP lives and where the browser will look to know what he can render.&lt;/p&gt;
&lt;p&gt;Using &lt;a href=&quot;https://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Express&lt;/a&gt;, we can simply do the following :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set CSP as a middleware function&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token string&quot;&gt;&quot;Content-Security-Policy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token string&quot;&gt;&quot;default-src &#39;self&#39;; script-src &#39;self&#39;; style-src &#39;self&#39;; font-src &#39;self&#39;; img-src &#39;self&#39;; frame-src &#39;self&#39;&quot;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;	&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello World!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;App 🚀 @ http://localhost:3000&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, we have defined the most used directives to &lt;code&gt;&#39;self&#39;&lt;/code&gt;, meaning that we are only allowing resources from the current host (&lt;em&gt;including URL scheme and port number&lt;/em&gt;) only.&lt;br /&gt;
If you run this app (&lt;code&gt;node index&lt;/code&gt;), and follow the link, you&#39;ll get a nice &lt;strong&gt;Hello World!&lt;/strong&gt;&lt;br /&gt;
If you open the Console (F12), you&#39;ll see nothing since we didn&#39;t do much for now.&lt;/p&gt;
&lt;h2 id=&quot;ejs&quot;&gt;EJS &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#ejs&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To render an &lt;code&gt;HTML&lt;/code&gt; page, load external scripts and styles to test our CSP, I&#39;ll be using &lt;a href=&quot;https://ejs.co/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;EJS&lt;/a&gt;.&lt;br /&gt;
Fell free to use any other template engine that suits your needs.&lt;br /&gt;
I highly recommend EJS for the following reason :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;EJS is a simple templating language that lets you generate HTML markup with plain JavaScript.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After installing EJS (&lt;code&gt;npm i ejs&lt;/code&gt;), we&#39;ll have to create a &lt;code&gt;views&lt;/code&gt; folder, at the root of the app, to store the &lt;code&gt;.ejs&lt;/code&gt; files.&lt;br /&gt;
EJS will look inside this folder to &lt;code&gt;render&lt;/code&gt; your page(s) the way you instruct him to do.&lt;br /&gt;
In this folder, create a file called &lt;code&gt;index.ejs&lt;/code&gt; with the following content :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/views/index.ejs&lt;/summary&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello from EJS !&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Yes, an &lt;code&gt;.ejs&lt;/code&gt; file is an &lt;code&gt;HTML&lt;/code&gt; file in which we can use plain &lt;code&gt;JavaScript&lt;/code&gt;, we&#39;ll see that in a moment.&lt;/p&gt;
&lt;p&gt;Update our main server file to look like this :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/index.js&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set CSP as a middleware function&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token string&quot;&gt;&quot;Content-Security-Policy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token string&quot;&gt;&quot;default-src &#39;self&#39;; script-src &#39;self&#39;; style-src &#39;self&#39;; font-src &#39;self&#39;; img-src &#39;self&#39;; frame-src &#39;self&#39;&quot;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;	&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set EJS as a template engine&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;view engine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ejs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Use EJS to render our page(s)&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// renders index.ejs&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;App 🚀 @ http://localhost:3000&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;h2 id=&quot;external-resources&quot;&gt;External resources &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#external-resources&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now, to test our CSP, we just have to load some external resources.&lt;br /&gt;
Let&#39;s bring on &lt;a href=&quot;https://purecss.io/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Pure.css&lt;/a&gt; and &lt;a href=&quot;https://lodash.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Lodash&lt;/a&gt;.&lt;br /&gt;
Update &lt;code&gt;index.ejs&lt;/code&gt; to look like this :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/views/index.ejs&lt;/summary&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Pure.css --&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://unpkg.com/purecss@2.1.0/build/pure-min.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;integrity&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sha384-yHIFVG6ClnONEA5yB5DJXfW2/KC173DIQrYoZMEtBvGzmf0PKiGyNEqe9N6BNDBH&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;crossorigin&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;anonymous&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello from EJS !&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Lodash --&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Save &lt;code&gt;index.ejs&lt;/code&gt;, reload the app in the browser, and open the Console :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Firefox Console&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;br /&gt;⚠️ Loading failed &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; the &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; source “https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;cdn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;jsdelivr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;net&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;npm&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash@&lt;span class=&quot;token number&quot;&gt;4.17&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.21&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js”&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;br /&gt;🛑 Content Security Policy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; The page’s settings blocked the loading &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; a resource at https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;unpkg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;purecss@&lt;span class=&quot;token number&quot;&gt;2.1&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;build&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;pure&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;css&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“style&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;src”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;br /&gt;🛑 Content Security Policy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; The page’s settings blocked the loading &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; a resource at https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;cdn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;jsdelivr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;net&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;npm&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash@&lt;span class=&quot;token number&quot;&gt;4.17&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.21&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;js&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“script&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;src”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;Chrome Console&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;br /&gt;🛑 Refused to load the stylesheet &lt;span class=&quot;token string&quot;&gt;&#39;https://unpkg.com/purecss@2.1.0/build/pure-min.css&#39;&lt;/span&gt; because it violates the following Content Security Policy directive&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;style-src &#39;self&#39;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; Note that &lt;span class=&quot;token string&quot;&gt;&#39;style-src-elem&#39;&lt;/span&gt; was not explicitly set&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; so &lt;span class=&quot;token string&quot;&gt;&#39;style-src&#39;&lt;/span&gt; is used &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; a fallback&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;br /&gt;🛑 Refused to load the script &lt;span class=&quot;token string&quot;&gt;&#39;https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js&#39;&lt;/span&gt; because it violates the following Content Security Policy directive&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;script-src &#39;self&#39;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; Note that &lt;span class=&quot;token string&quot;&gt;&#39;script-src-elem&#39;&lt;/span&gt; was not explicitly set&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; so &lt;span class=&quot;token string&quot;&gt;&#39;script-src&#39;&lt;/span&gt; is used &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; a fallback&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Now, you can see that our CSP have blocked Pure.css and Lodash, so everything is working as expected since they are not defined in our CSP as allowed resources to load in the browser.&lt;/p&gt;
&lt;h2 id=&quot;helmet&quot;&gt;Helmet &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#helmet&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Imagine, not necessarily because it happens when you are creating an app, having a reasonable amount of scripts and styles to whitelist.&lt;br /&gt;
The CSP middleware function in the main server file will grow and become sort of ugly and hard to maintain.&lt;br /&gt;
An &lt;strong&gt;excellent&lt;/strong&gt; alternative would be to use &lt;a href=&quot;https://helmetjs.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Helmet&lt;/a&gt; &lt;em&gt;if you&#39;re using Express&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Helmet helps you secure your Express apps by setting various HTTP headers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&#39;s add Helmet to our Express app with the following command &lt;code&gt;npm i helmet&lt;/code&gt;.&lt;br /&gt;
To easily maintain our CSP, let&#39;s move it inside a &lt;code&gt;middleware&lt;/code&gt; folder, a the root of the app, in a file called &lt;code&gt;helmet.js&lt;/code&gt;.&lt;br /&gt;
The app structure looks like the following tree :&lt;/p&gt;
&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;Application&#39;s root without node_modules folder&lt;br /&gt;├── index.js&lt;br /&gt;├── middleware&lt;br /&gt;│  └── helmet.js&lt;br /&gt;├── package-lock.json&lt;br /&gt;├── package.json&lt;br /&gt;└── views&lt;br /&gt;  └── index.ejs&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s add a CSP with Helmet :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/middleware/helmet.js&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; helmet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;helmet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;helmet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;and update &lt;code&gt;index.js&lt;/code&gt; to call this middleware :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/index.js&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set CSP using Helmet&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; helmet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./middleware/helmet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set EJS as a template engine&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;view engine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ejs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Use EJS to render our page(s)&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// renders index.ejs&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;App 🚀 @ http://localhost:3000&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Save both files, refresh your browser, and open the Console :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Firefox Console&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;br /&gt;⚠️ Content Security Policy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Couldn’t process unknown directive ‘script&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;src&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;attr’&lt;br /&gt;⚠️ Loading failed &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; the &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; source “https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;cdn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;jsdelivr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;net&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;npm&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash@&lt;span class=&quot;token number&quot;&gt;4.17&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.21&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js”&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;br /&gt;🛑 Content Security Policy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; The page’s settings blocked the loading &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; a resource at https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;cdn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;jsdelivr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;net&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;npm&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash@&lt;span class=&quot;token number&quot;&gt;4.17&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.21&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;lodash&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;js&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“script&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;src”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;Chrome Console&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;br /&gt;🛑 Refused to load the script &lt;span class=&quot;token string&quot;&gt;&#39;https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js&#39;&lt;/span&gt; because it violates the following Content Security Policy directive&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;script-src &#39;self&#39;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; Note that &lt;span class=&quot;token string&quot;&gt;&#39;script-src-elem&#39;&lt;/span&gt; was not explicitly set&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; so &lt;span class=&quot;token string&quot;&gt;&#39;script-src&#39;&lt;/span&gt; is used &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; a fallback&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;As you can see, now only Lodash is blocked 🤔&lt;br /&gt;
And Firefox is throwing a warning for an unknown directive.&lt;/p&gt;
&lt;p&gt;Under the hood, a lot is happening, and it will take a series of posts to explain in detail each header and how to configure them...&lt;/p&gt;
&lt;p&gt;But just that you know, Helmet sets a bunch of default values to protect your endpoint.&lt;br /&gt;
One of them is :&lt;br /&gt;
&lt;code&gt;style-src &#39;self&#39; https: &#39;unsafe-inline&#39;;&lt;/code&gt;&lt;br /&gt;
This is the directive allowing Pure.css.&lt;br /&gt;
It means : &lt;em&gt;&amp;quot;allow any styles&#39; source from my domain, or styles&#39; source served over https, or inline styles&amp;quot;&lt;/em&gt;.&lt;br /&gt;
But as I&#39;ve said before, any &lt;code&gt;&#39;unsafe-...&#39;&lt;/code&gt; expression is &lt;strong&gt;unsafe&lt;/strong&gt; and should not be used unless their is really no other option...&lt;br /&gt;
I&#39;ve linked at the beginning of this section to Helmet&#39;s documentation.&lt;br /&gt;
We&#39;ll be addressing all issues, properly, in the next and last section.&lt;/p&gt;
&lt;h2 id=&quot;hash-and-nonce&quot;&gt;Hash and Nonce &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#hash-and-nonce&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To allow the execution of inline scripts, inline event handlers and inline styles, a hash or a nonce that matches the inline code can be specified, to avoid using the &lt;code&gt;&#39;unsafe-inline&#39;&lt;/code&gt;expression.&lt;/p&gt;
&lt;h3 id=&quot;hash&quot;&gt;Hash &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#hash&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;hr /&gt;
&lt;p&gt;A &lt;a href=&quot;https://content-security-policy.com/hash/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;hash&lt;/a&gt; is a string composed of two parts connected by a dash with each other :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The cryptographic algorithm used to create the hash value.&lt;/li&gt;
&lt;li&gt;The base64-encoded hash of a script or style.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;CSP supports sha256, sha384 and sha512.&lt;/p&gt;
&lt;p&gt;But when you hash a script or a style, the generated string matches only the hashed code, meaning that if the code changes in any way (dot, space, new line, comment, added/removed/formatted code), the hash will no longer match the code who gets blocked !&lt;br /&gt;
In this case, you&#39;ll have to regenerate a hash that matches the modified code...&lt;br /&gt;
It&#39;s a time consuming process if your code changes a lot, but commonly used and &lt;strong&gt;recommended&lt;/strong&gt; over a nonce especially for static scripts.&lt;/p&gt;
&lt;p&gt;From MDN :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Only use nonce for cases where you have no way around using unsafe inline script or style contents. If you don&#39;t need nonce, don&#39;t use it. If your script is static, you could also use a CSP hash instead. (See usage notes on &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src#unsafe_inline_script&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;unsafe inline script&lt;/a&gt;.) Always try to take full advantage of CSP protections and avoid nonces or unsafe inline scripts whenever possible.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;nonce&quot;&gt;Nonce &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/csp-nonce-with-nodejs-and-ejs/#nonce&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;hr /&gt;
&lt;p&gt;On the other hand, a &lt;a href=&quot;https://content-security-policy.com/nonce/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;nonce&lt;/a&gt; is a cryptographic &lt;strong&gt;number used once&lt;/strong&gt;, generated using a cryptographically secure random number generator, that must be unique for each HTTP response as a random base64-encoded string of at least 128 bits of data.&lt;/p&gt;
&lt;p&gt;So, in the case of server-side rendering, a nonce is more often used, and can be used for inline and external scripts and styles.&lt;br /&gt;
Note that a &lt;code&gt;nonce-value&lt;/code&gt; will not allow stylesheet requests originating from the &lt;code&gt;@import&lt;/code&gt; rule !&lt;/p&gt;
&lt;p&gt;To use a nonce, for a script, we have to declare at the top of our &lt;code&gt;script-src&lt;/code&gt; directive the &lt;code&gt;&#39;strict-dynamic&#39;&lt;/code&gt; expression to allow the execution of that script as well as any script loaded by this root script.&lt;br /&gt;
When using the &lt;code&gt;&#39;strict-dynamic&#39;&lt;/code&gt; expression, other expressions such as &lt;code&gt;&#39;self&#39;&lt;/code&gt; or &lt;code&gt;&#39;unsafe-inline&#39;&lt;/code&gt; will be ignored.&lt;/p&gt;
&lt;p&gt;I like to keep my code clean an maintainable because at one point or another I&#39;ll want to update it, this is why I split (as most developers) my code into pieces where each one is easily trackable in a near or far future.&lt;br /&gt;
Let&#39;s add a file called &lt;code&gt;nonces.js&lt;/code&gt; in the &lt;code&gt;middleware&lt;/code&gt; folder, the app structure now looks like the following tree :&lt;/p&gt;
&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Application&#39;s root without node_modules folder&lt;br /&gt;├── index.js&lt;br /&gt;├── middleware&lt;br /&gt;│  ├── helmet.js&lt;br /&gt;│  └── nonces.js&lt;br /&gt;├── package-lock.json&lt;br /&gt;├── package.json&lt;br /&gt;└── views&lt;br /&gt;  └── index.ejs&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Open &lt;code&gt;nonces.js&lt;/code&gt; and add the following content :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Determining if crypto support is unavailable&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; crypto&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	crypto &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;crypto&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;crypto support is disabled!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Generating a nonce for Lodash with crypto&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lodashNonce &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; crypto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hex&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Maybe you&#39;ll have some other later&lt;/span&gt;&lt;br /&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lodashNonce &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;a href=&quot;https://nodejs.org/docs/latest-v16.x/api/crypto.html&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;crypto&lt;/a&gt; module is a built-in functionality of Node.js but it&#39;s better to check if it&#39;s included or not, in our installation, just like the docs.&lt;/p&gt;
&lt;p&gt;Now, update &lt;code&gt;helmet.js&lt;/code&gt; :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/middleware/helmet.js&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; helmet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;helmet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lodashNonce &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./nonces&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;helmet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token literal-property property&quot;&gt;contentSecurityPolicy&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token literal-property property&quot;&gt;directives&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token literal-property property&quot;&gt;scriptSrc&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token string&quot;&gt;&quot;&#39;strict-dynamic&#39;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// For nonces to work&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;nonce-&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;lodashNonce&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token literal-property property&quot;&gt;scriptSrcAttr&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Remove Firefox warning&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token literal-property property&quot;&gt;styleSrc&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&#39;self&#39;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https:&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Remove &#39;unsafe-inline&#39;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;This way is much elegant, clean and maintainable than a middleware function in the main server file.&lt;/p&gt;
&lt;p&gt;Finally, we&#39;ll have to pass the generated nonce from the route were we need to load the script as a variable and grab this variable in the route&#39;s template where the script tag is.&lt;br /&gt;
I&#39;ll be commenting the code to explain the steps :&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;/index.js&lt;/summary&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Set CSP with helmet&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; helmet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./middleware/helmet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;view engine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ejs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * 1- We require lodashNonce&lt;br /&gt; * 2- This is our route &quot;/&quot;&lt;br /&gt; * 3- We are rendering &quot;index.ejs&quot;&lt;br /&gt; * 4- We pass lodashNonce into the route,&lt;br /&gt; * with the second argument of res.render&lt;br /&gt; * which is an object, as a variable&lt;br /&gt; * 5- This object is now accessible&lt;br /&gt; * in the EJS template file&lt;br /&gt; * 6- We&#39;ll get lodashNonce value&lt;br /&gt; * by the ourGenerateNonce key&lt;br /&gt; * in the EJS template file&lt;br /&gt; * 7- That&#39;s it here, open index.ejs below&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lodashNonce &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./middleware/nonces&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;ourGenerateNonce&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; lodashNonce &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;App 🚀 @ http://localhost:3000&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;/views/index.ejs&lt;/summary&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Pure.css --&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- &lt;br /&gt;			Use JSDELIVR to load Pure.css instead of UNPKG&lt;br /&gt;		--&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/purecss@2.1.0/build/pure-min.min.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello from EJS !&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Lodash --&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- &lt;br /&gt;			Set the nonce attribute to ourGenerateNonce&lt;br /&gt;			using EJS output value tag &amp;lt;%= %&gt;&lt;br /&gt;		--&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;nonce&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&amp;lt;%= ourGenerateNonce %&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Save those files,reload your browser and open the browser&#39;s console 🥳🎉🎊&lt;br /&gt;
Congrats, you&#39;ve just loaded an external script using a nonce !&lt;/p&gt;
&lt;p&gt;Hope that this post was helpful.&lt;br /&gt;
Next one will be about EJS.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>To Node or not ? Deta is the answer !</title>
		<link href="https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/"/>
		<updated>2022-06-26T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about exploring &lt;a href=&quot;https://nodejs.org/en/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Node.js&lt;/a&gt; with &lt;a href=&quot;https://www.deta.sh/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Deta Cloud&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;motivation&quot;&gt;Motivation &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/#motivation&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After &lt;a href=&quot;https://lebcit.github.io/posts/back-to-the-roots-with-a-static-site/&quot;&gt;getting back to the roots with a static site&lt;/a&gt; and working with Node.js on real projects in the static world, I wanted to try it on a server to dive a little bit deeper and understand how it works by itself.&lt;/p&gt;
&lt;h2 id=&quot;quest-%26-luck&quot;&gt;Quest &amp;amp; luck &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/#quest-%26-luck&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;So, I started to search for a free Node.js hosting and it took me a while, with a lot of chance, to land on an awesome project called Deta.&lt;br /&gt;
The great developers behind Deta define it as &lt;strong&gt;The Cloud for Doers &amp;amp; Dreamers&lt;/strong&gt; and describe it as &lt;em&gt;the universe&#39;s most developer friendly cloud platform&lt;/em&gt;.&lt;br /&gt;
Honestly speaking, I can only confirm those declarations because I&#39;ve tried some other platforms !&lt;/p&gt;
&lt;p&gt;Deta gives you :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;blazing fast micro servers, called &lt;strong&gt;Micros&lt;/strong&gt;, to get your apps to live.&lt;/li&gt;
&lt;li&gt;fast, scalable and secure NoSQL database with unlimited storage, called &lt;strong&gt;Base&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;safely encrypted 10GB cloud storage, called &lt;strong&gt;Drive&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of those services are completely and 100% &lt;strong&gt;FREE&lt;/strong&gt; with no catch at all !&lt;/p&gt;
&lt;h2 id=&quot;simplicity&quot;&gt;Simplicity &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/#simplicity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The amazing part of Deta is it&#39;s simplicity.!&lt;br /&gt;
One statement on Deta&#39;s homepage tells everything about it :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You don&#39;t need a degree to use Deta&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;https://docs.deta.sh/docs/home&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Docs&lt;/a&gt; are straightforward with simple examples to get you right away on the track.&lt;br /&gt;
The &lt;a href=&quot;https://docs.deta.sh/docs/cli/commands&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;CLI&lt;/a&gt; to manage &lt;strong&gt;Micros&lt;/strong&gt; is crystal clear and dead simple.&lt;/p&gt;
&lt;p&gt;Since my &lt;a href=&quot;https://docs.deta.sh/docs/micros/getting_started#creating-your-first-micro&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;first_micro&lt;/a&gt;, Deta gave me, and give me everyday, the opportunity to learn, apply, test, deploy and evolve as a developer in many ways.&lt;/p&gt;
&lt;p&gt;I was finally able to understand how much power and flexibility a Node.js server can give if configured correctly.&lt;br /&gt;
I&#39;ve also been able to work for real with &lt;a href=&quot;https://graphql.org/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;GraphQL&lt;/a&gt; without DB adapters/connectors.&lt;br /&gt;
And so on...&lt;/p&gt;
&lt;h2 id=&quot;final-word&quot;&gt;Final word &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/to-node-or-not-deta-is-the-answer/#final-word&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Deta is, for me, the best Node.js platform you could ever dream of !&lt;br /&gt;
Deta is made by great developers with developers concerns in mind !&lt;br /&gt;
Deta&#39;s spirit reflects the generosity and kindness of it&#39;s team who&#39;s always there to help !&lt;/p&gt;
&lt;p&gt;Thank you Deta 💘&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Automatically close other &lt;details&gt;</title>
		<link href="https://lebcit.github.io/posts/automatically-close-other-details/"/>
		<updated>2021-02-10T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/automatically-close-other-details/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about closing all &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; tag when another one is open.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I was writing a post about MidDay, &lt;a href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/&quot;&gt;my new WordPress Theme&lt;/a&gt;, and wanted to include a simple FAQ section but with a little of style, this is when I remembered the &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; tag.&lt;/p&gt;
&lt;p&gt;It&#39;s an awesome &lt;strong&gt;accessible&lt;/strong&gt; element, similar to an accordion.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;How to create one ?&lt;/summary&gt;
You have just opened one 😁&lt;br /&gt;
Just follow the pattern in the code.
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Summary/Question about the content&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;	And here is the content, it could be anything, even code like this example 😉&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;But when we use more than one &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; tag on the same page, especially when they are one after another, we can see that if one is opened and we open another one, the first stays opened.&lt;br /&gt;
Imagine having 5 or more after each other, with a reasonable amount of content, they will take a lot of space.&lt;br /&gt;
As an example, you can take a look at this informative pen : &lt;a href=&quot;https://codepen.io/jdsteinbach/pen/GYmQjo&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Teaching the Details Element with ... Details Elements!&lt;/a&gt;&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;So how to close the opened one ?&lt;/summary&gt;
Easy !&lt;br /&gt;
Just include the following code in your scripts file or in a &lt;code&gt;script&lt;/code&gt; tag at the bottom of your page before the closing &lt;code&gt;body&lt;/code&gt; tag.
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/** Close others &amp;lt;details&gt; tag */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; allDetails &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;details&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;allDetails&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			allDetails&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;details &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;					details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;Let&#39;s break it down !&lt;/p&gt;
&lt;p&gt;First we select all the &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; tag :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; allDetails &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;details&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we iterate over them :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;allDetails&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;details&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we listen to the &lt;code&gt;toggle&lt;/code&gt; event used by the &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; element whenever its state changes between open and closed :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;toggle&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, we wait for any &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; to be &lt;code&gt;open&lt;/code&gt; :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We iterate once again over all the &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; and check if anyone of them was not the &lt;code&gt;target&lt;/code&gt; of the &lt;code&gt;toggle&lt;/code&gt; event and was &lt;code&gt;open&lt;/code&gt;, if so, we just close it by removing it&#39;s open state :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;allDetails&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;details &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		details&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;open &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In other words, if a &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; element was opened, it have the &lt;code&gt;open&lt;/code&gt; attribute. Now if another &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; element is open, we remove the &lt;code&gt;open&lt;/code&gt; attribute from the previous, leaving only the actual targeted one opened.&lt;/p&gt;
&lt;p&gt;Hope that this was useful, and that you&#39;ll start using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;The Details disclosure element&lt;/a&gt;.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>MidDay WordPress theme</title>
		<link href="https://lebcit.github.io/posts/midday-wordpress-theme/"/>
		<updated>2021-02-02T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/midday-wordpress-theme/</id>
		<content type="html">&lt;p&gt;Hello everyone,&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This post is about the development and usage of MidDay WordPress theme.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;credits&quot;&gt;Credits &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#credits&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This WordPress theme wouldn’t have seen the light without :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3schools.com/w3css/tryw3css_templates_bw_portfolio.htm&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Black &amp;amp; White Portfolio Template&lt;/a&gt; by &lt;a href=&quot;https://www.w3schools.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;w3schools.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://purecss.io/layouts/blog/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Blog&lt;/a&gt; template by &lt;a href=&quot;https://purecss.io/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Pure.css&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aristath.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Ari Stathopoulos&lt;/a&gt; blog&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://underscores.me/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Underscores&lt;/a&gt; starter theme for WordPress&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://necolas.github.io/normalize.css/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Normalize.css&lt;/a&gt; by &lt;a href=&quot;https://github.com/necolas&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Nicolas Gallagher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;and our beloved CMS &lt;a href=&quot;https://wordpress.org/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;WordPress&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;about&quot;&gt;About &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#about&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After releasing my first WordPress theme, &lt;a href=&quot;https://wordpress.org/themes/the-clean-blog/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;The Clean Blog&lt;/a&gt;, in 2017 and rewriting it from ground up in 2019, I wanted to create a new responsive, clear, clean, bold and dead simple WordPress theme, without any unnecessary functionalities or bells and whistles...&lt;br /&gt;
My main concern was typography, I wanted a responsive, big and bold typography, so I chose &lt;a href=&quot;https://twitter.com/MikeRiethmuller&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Mike Riethmuller&lt;/a&gt; approach explained in &lt;a href=&quot;https://www.madebymike.com.au/writing/precise-control-responsive-typography/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Precise control over responsive typography&lt;/a&gt;.&lt;br /&gt;
Then, looking here and there for templates with big sidebar, I&#39;ve been inspired by the templates mentioned above.&lt;br /&gt;
A little from this, a little from that, and MidDay&#39;s HTML template was born.&lt;br /&gt;
Finally, MidDay&#39;s HTML template was ported to WordPress.&lt;/p&gt;
&lt;h2 id=&quot;usage&quot;&gt;Usage &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#usage&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1- To use this theme, you have to &lt;a href=&quot;https://wordpress.org/themes/midday/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;download&lt;/a&gt; it from the WordPress themes repository and add it under &lt;em&gt;Appearance→Themes→Add New→Upload Theme&lt;/em&gt;, or search for &lt;strong&gt;MidDay&lt;/strong&gt; under &lt;em&gt;Appearance→Themes→Add New&lt;/em&gt; in the backend.&lt;/p&gt;
&lt;p&gt;2- Please note that this theme&#39;s menu is a one level depth only, meaning that there is no sub-menu, so even if you add them they will not appear.&lt;/p&gt;
&lt;p&gt;3- In the Customizer (&lt;em&gt;Appearance→Customize&lt;/em&gt; or &lt;em&gt;Customize&lt;/em&gt; link in the Admin Bar), you&#39;ll find a panel named &lt;em&gt;MidDay Theme&lt;/em&gt; and three sections (for now: &lt;em&gt;Sidebar Image&lt;/em&gt;, &lt;em&gt;Title &amp;amp; Tagline Color&lt;/em&gt;, and &lt;em&gt;Footer Copyright Area&lt;/em&gt;) under it.&lt;br /&gt;
Under each section, controls are explained in details.&lt;br /&gt;
Note that the first section &lt;em&gt;Sidebar Image&lt;/em&gt; is only for the home page, each post and page can have their own sidebar image by assigning a Featured image to the post or the page.&lt;/p&gt;
&lt;p&gt;4- MidDay is a Responsive, Clear, Clean, Bold and dead Simple WordPress theme. Perfect for personal or company blogs.&lt;/p&gt;
&lt;h2 id=&quot;frequently-asked-questions&quot;&gt;Frequently Asked Questions &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#frequently-asked-questions&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;details&gt;
&lt;summary&gt;The Menu is not opening !&lt;/summary&gt;
This is because this menu needs at least 2 items !
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;The Menu is not showing children items !&lt;/summary&gt;
This is because this menu is a one level menu only !
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;Does this theme support any plugins?&lt;/summary&gt;
MidDay includes support for Infinite Scroll in Jetpack.
&lt;/details&gt;
&lt;h2 id=&quot;feedback-%2F-issue-%3F&quot;&gt;Feedback / Issue ? &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#feedback-%2F-issue-%3F&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Head over the &lt;a href=&quot;https://wordpress.org/support/theme/midday/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;support&lt;/a&gt; page to tell me if you’re having some issues or if you wish to see some features added to the theme 😉&lt;br /&gt;
You can also leave a review on the &lt;a href=&quot;https://wordpress.org/support/theme/midday/reviews/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;reviews&lt;/a&gt; page to give me a push 👍&lt;br /&gt;
Thanks in advance for your feedback !&lt;/p&gt;
&lt;h2 id=&quot;final-word&quot;&gt;Final word &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/midday-wordpress-theme/#final-word&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I really hope that this theme will be useful for a lot of WordPress users and that they&#39;ll enjoy using it.&lt;br /&gt;
I&#39;ll be making improvements to MidDay from time to time, and be talking about it here, so stay tuned !&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This documentation is also available on &lt;a href=&quot;https://github.com/LebCit/midday/wiki/MidDay-documentation&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;GitHub&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Creating a Customizer control with JavaScript</title>
		<link href="https://lebcit.github.io/posts/creating-a-customizer-control-with-javascript/"/>
		<updated>2020-06-01T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/creating-a-customizer-control-with-javascript/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about creating a control, from A to Z, in WordPress Customizer with JavaScript.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Did you know that you can create panels, sections and controls in the Customizer with JavaScript ?&lt;br /&gt;
&amp;quot;The PHP API for their registration is essentially a wrapper for the underlying JS API&amp;quot; as mentioned by Weston Ruter in &lt;a href=&quot;https://wp.me/p2AvED-6c4&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Improvements to the Customize JS API in 4.9&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;He also says &amp;quot;you can also avoid statically registering settings and partials in PHP by instead adding filters to dynamically recognize settings and partials, allowing them to be registered on demand&amp;quot;, meaning that you can create settings and partials in JS but will have to register them in PHP via a filter because they must be sanitized and validated by the server for security reasons !&lt;/p&gt;
&lt;p&gt;For this task, we need to :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;access the Customizer Pane to create a Panel, a Section, a Setting and a Control with JS&lt;/li&gt;
&lt;li&gt;access the Customizer Preview to define the related Partial of the Control with JS&lt;/li&gt;
&lt;li&gt;add a filter to validate and sanitize the Setting with PHP&lt;br /&gt;
For more information about how things are related in the Customizer, please read my post &lt;a href=&quot;https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/&quot;&gt;Listen for changes in Customizer Preview !&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&#39;ll explain it as if the reader is a beginner so she/he can understand and follow along.&lt;/p&gt;
&lt;p&gt;My tree looks like this:&lt;/p&gt;
&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;    - theme ( main folder)&lt;br /&gt;    -- inc (folder)&lt;br /&gt;    --- customizer.php&lt;br /&gt;    -- js (folder)&lt;br /&gt;    --- controls.js&lt;br /&gt;    --- customizer.js&lt;br /&gt;    --- main.js&lt;br /&gt;    -- functions.php&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The functions.php file is used to :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;enqueue and localize main.js where we will render on the front end our choice(s) from the Customizer&lt;/li&gt;
&lt;li&gt;require the customizer.php file where we hook controls.js (for Customizer Pane) and customizer.js (for Customizer Preview)&lt;br /&gt;
We can of course hook controls.js and customizer.js from functions.php but it&#39;s better to keep things separated.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// File functions.php&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Load and localize main.js.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;main_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_enqueue_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;main-js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_theme_file_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/js/main.js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;1.0&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// Localize the script with new data and pass php variables to JS.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$main_js_data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token comment&quot;&gt;/** FOR LATER USE. */&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;siteTitleColor&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_theme_mod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;siteTitleColorSetting&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;#fff&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_localize_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;main-js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;main_vars&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$main_js_data&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;wp_enqueue_scripts&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;main_js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Customizer additions.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/inc/customizer.php&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// File customizer.php&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Hooking in JS code to affect the controls in the Customizer.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;midday_customize_controls_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_enqueue_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday-controls&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/js/controls.js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize-controls&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;filemtime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_theme_file_path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/js/controls.js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_controls_enqueue_scripts&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_customize_controls_js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Binds JS handlers to make Theme Customizer preview reload changes asynchronously.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;midday_customize_preview_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_enqueue_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday-customizer&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/js/customizer.js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize-preview&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;20151215&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_preview_init&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_customize_preview_js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you don&#39;t know what is &lt;a href=&quot;https://developer.wordpress.org/reference/functions/wp_localize_script/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;wp_localize_script()&lt;/a&gt; , think of it as a bridge between PHP and JS where we can pass variables from PHP to JS.&lt;br /&gt;
Just to let you know, there is also another function &lt;a href=&quot;https://developer.wordpress.org/reference/functions/wp_add_inline_script/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;wp_add_inline_script()&lt;/a&gt; to add JS code to a registered JS file.&lt;/p&gt;
&lt;p&gt;Now that we are all set, let&#39;s create a Panel, a Section, a Setting and a Control in controls.js to change the site title color.&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * File controls.js&lt;br /&gt; *&lt;br /&gt; * Access Theme Customizer Controls for a better user experience.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token function&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ready&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// Create panel.&lt;/span&gt;&lt;br /&gt;		api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;panel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Panel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;myPanel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Theme Options&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Customize Theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Optional default is 160.&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// Site Title Color Section.&lt;/span&gt;&lt;br /&gt;		api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;section&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorSection&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Site Title Color Section&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;panel&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;myPanel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;customizeAction&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Customizing ▸ Site Title Color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// String above title&#39;s Section.&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// The order of this section in the panel.&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// Site Title Color Setting.&lt;/span&gt;&lt;br /&gt;		api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorSetting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#fff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;transport&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;postMessage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// Site Title Color Control.&lt;/span&gt;&lt;br /&gt;		api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;control&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;wp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ColorControl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorControl&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;section&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorSection&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Site Title Color Control&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;setting&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorSetting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;				&lt;span class=&quot;token literal-property property&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// The order of this control in the section.&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please note that the pattern for the Setting is different from the others !&lt;br /&gt;
For the Setting, we type &lt;code&gt;api.add(setting)&lt;/code&gt; and define in the &lt;code&gt;setting&lt;/code&gt; an &lt;code&gt;id&lt;/code&gt;, a &lt;code&gt;defaultValue&lt;/code&gt;, then we pass the desired call type (here we are using &lt;code&gt;postMessage&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Now, let&#39;s access the Customizer Preview in customizer.js and define how the Setting joins the Control to the Partial.&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * File customizer.js.&lt;br /&gt; *&lt;br /&gt; * Theme Customizer enhancements for a better user experience.&lt;br /&gt; *&lt;br /&gt; * Contains handlers to make Theme Customizer preview reload changes asynchronously.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token comment&quot;&gt;// Site Title Color.&lt;/span&gt;&lt;br /&gt;	wp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;siteTitleColorSetting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;new_value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.site-title a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; new_value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jQuery&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, let&#39;s add in customizer.php the filter to validate and sanitize our Setting, preferably (for logic) after the code that hooks controls.js&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// File customizer.php&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_dynamic_setting_args&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$setting_args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$setting_id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;siteTitleColorSetting&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$setting_id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token variable&quot;&gt;$setting_args&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;sanitize_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;sanitize_hex_color&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$setting_args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, the above function uses the &lt;code&gt;customize_dynamic_setting_args&lt;/code&gt; filter to tell the server to validate/recognize the Setting and to sanitize it.&lt;br /&gt;
The number 10 is the priority of execution of the function, and the number 2 is the number of arguments the function accepts.&lt;br /&gt;
More info about &lt;a href=&quot;https://developer.wordpress.org/reference/functions/add_filter/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;add_filter()&lt;/a&gt; in the Code Reference.&lt;/p&gt;
&lt;p&gt;Now, if you go to the Customizer, you&#39;ll find the created panel, section, setting and control.&lt;br /&gt;
If you try to change the site title it will change according to your choice.&lt;br /&gt;
But if you publish it, nothing will happen on the front end 🤔&lt;br /&gt;
So, our final step is to render/reflect our choice in the Customizer on the front end.&lt;br /&gt;
Remember the beginning of this post ?&lt;br /&gt;
We have loaded and localized main.js for this purpose 😉&lt;br /&gt;
Open main.js and add the following code&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * File main.js.&lt;br /&gt; *&lt;br /&gt; * Handles theme&#39;s JS functions.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; siteTitleColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; midday_vars&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteTitleColor &lt;span class=&quot;token comment&quot;&gt;// Retriving the passed variable from PHP to JS.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; siteTitleAnchor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.site-title a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Select the site title anchor.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;siteTitleColor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token comment&quot;&gt;// If their is any value.&lt;/span&gt;&lt;br /&gt;	siteTitleAnchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; siteTitleColor &lt;span class=&quot;token comment&quot;&gt;// Add this value as a color to the site title anchor.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The code is explained and easy to understand, if you have any question don&#39;t hesitate !&lt;/p&gt;
&lt;p&gt;As a final note, I would like to let you know that I&#39;ve created the same control with PHP along with the JS one.&lt;br /&gt;
When we change the site title color with the PHP control (let&#39;s say &lt;code&gt;#000&lt;/code&gt;) and the JS control (let&#39;s say &lt;code&gt;#fff&lt;/code&gt;) and publish our changes, it&#39;s the JS control that takes over 💪&lt;/p&gt;
&lt;p&gt;Hope this post will help you begin using the Customizer&#39;s JS API instead of it&#39;s PHP API 😊&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Clear your local development cache with JS</title>
		<link href="https://lebcit.github.io/posts/clear-your-local-development-cache-with-js/"/>
		<updated>2020-05-27T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/clear-your-local-development-cache-with-js/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about clearing your local development cache with JavaScript without a server side language.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When we use a server side language to get our changes this is what happens :&lt;br /&gt;
1- the Request is made by the browser to the server&lt;br /&gt;
2- the Response is sent from the server to the browser&lt;br /&gt;
In this case, if any changes are made within the files, the server will serve the browser with those changes.&lt;br /&gt;
But, what if you&#39;re not using a server side language for your local development ?!&lt;/p&gt;
&lt;p&gt;If you&#39;re locally developing a website on the Classic Road (HTML + CSS + JS) without a plugin in your IDE to synchronize your changes, &lt;strong&gt;and have some generated cache&lt;/strong&gt;, you&#39;ll have to refresh your page twice and sometimes more to see the changes you&#39;ve just made even if you&#39;re using a local server as Laragon, WAMP, MAMP, XAMPP...&lt;br /&gt;
Did you ever asked yourself how much time you&#39;re spending on refreshing twice ?!&lt;br /&gt;
This is a time killer, it&#39;s very annoying, and you&#39;re productivity will be affected !&lt;/p&gt;
&lt;p&gt;The solution would be to &lt;strong&gt;clear the cache&lt;/strong&gt; when we refresh the page, you would say &amp;quot;use Ctrl + F5 !&amp;quot; and I would respond &amp;quot;go try it with your generated cache !&amp;quot;.&lt;/p&gt;
&lt;p&gt;To clear the cache when we hit the refresh button :&lt;br /&gt;
1- we&#39;ll have to access the &lt;code&gt;loading state&lt;/code&gt; of the document &lt;em&gt;without waiting&lt;/em&gt; for stylesheets, images...&lt;br /&gt;
2- we&#39;ll have to &lt;code&gt;open&lt;/code&gt; the cache and access the particular cache causing headaches&lt;br /&gt;
3- we&#39;ll have to &lt;code&gt;delete&lt;/code&gt; this particular cache !&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readyState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;loading&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token comment&quot;&gt;// Loading hasn&#39;t finished yet&lt;/span&gt;&lt;br /&gt;	document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;DOMContentLoaded&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;loading...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		caches&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cacheNameCausingHeadaches&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			cache&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;				console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;deleted&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Paste this code at the end of your scripts before the closing body tag and refresh your page twice for the last time !&lt;/p&gt;
&lt;p&gt;To get the &lt;code&gt;cacheNameCausingHeadeaches&lt;/code&gt; :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;caches&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;keyList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;keyList&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I&#39;m here to share and learn 😊 so if you have a better way without an IDE plugin for a static site with some cache please let me know because I like to refresh and see the difference 😉&lt;/p&gt;
&lt;p&gt;Hope this will be useful.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Change page title dynamically</title>
		<link href="https://lebcit.github.io/posts/change-page-title-dynamically/"/>
		<updated>2020-05-26T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/change-page-title-dynamically/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about changing the document title when the user leaves your site&#39;s tab.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A good way to grab the the user&#39;s attention is of course to write useful content 😁&lt;br /&gt;
Being funny is also a very good strategy to keep users coming back to your blog.&lt;br /&gt;
A little bit of originality won&#39;t harm at all !&lt;/p&gt;
&lt;p&gt;We are going to use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Page Visibility API&lt;/a&gt; to detect if the user is on your site&#39;s tab or on another tab, and change your site&#39;s tab title using the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Document/title&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Document.title&lt;/a&gt; property and an awesome french song title 😉&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Grab the document title of your site&#39;s current tab.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; currentTabTitle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Listen to visibility change events&lt;/span&gt;&lt;br /&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;visibilitychange&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token comment&quot;&gt;// Fires when user leaves your site&#39;s tab.&lt;/span&gt;&lt;br /&gt;	document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;visibilityState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hidden&quot;&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Document title when user leaves your site&#39;s tab.&lt;/span&gt;&lt;br /&gt;		  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Ne Me Quitte Pas 😭&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Document title when user comes back to your site&#39;s tab.&lt;/span&gt;&lt;br /&gt;		  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentTabTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Conditional (ternary) operator&lt;/a&gt; is like an &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;if...else statement&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Important note&lt;/strong&gt;: since the first change will occur when the user leaves your site&#39;s tab, we begin by listening to the &lt;code&gt;hidden&lt;/code&gt; state (when the page&#39;s content is not visible to the user) and we change your tab title to whatever... Once the user gets back to your site&#39;s tab, the original tab title will be reassigned since we&#39;ve grab it earlier.&lt;/p&gt;
&lt;p&gt;You can see it wright here, change to another tab or open a new one 😉&lt;/p&gt;
&lt;p&gt;Don&#39;t forget to check out &lt;a href=&quot;https://youtu.be/Vz6r0TP4FBI&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;the song&lt;/a&gt; 🎶&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Listen for changes in Customizer Preview !</title>
		<link href="https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/"/>
		<updated>2020-05-24T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about how to listen for any changes in WordPress Customizer Preview.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;One of the most beautiful functionalities of WordPress is the Customizer, because it allows developers to give a simple way for users to modify themes/plugins appearance and behavior.&lt;br /&gt;
However, this beauty has it&#39;s own code of conduct.&lt;br /&gt;
Let&#39;s scratch it a little bit to find out how to listen for changes in the Customizer Preview.&lt;/p&gt;
&lt;p&gt;I always like to assume that the reader maybe a beginner, like I was a long time ago, and explain everything from A to Z, so she/he can follow the tutorial or jump to any part according to her/his experience.&lt;/p&gt;
&lt;p&gt;For simplicity and practice, as usual 😊, I’ll be using an &lt;a href=&quot;https://underscores.me/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;_s&lt;/a&gt; (underscores) generated theme, and call it &lt;em&gt;Customizer Preview&lt;/em&gt; 😉. It’s a 1 minute process, so don’t be afraid, type in the &lt;em&gt;Theme Name,&lt;/em&gt; download it, and upload it like any other theme under &lt;em&gt;Appearance &amp;gt; Themes &amp;gt; Add New &amp;gt; Upload Theme&lt;/em&gt;.&lt;br /&gt;
Now you’re all set and we can begin.&lt;/p&gt;
&lt;h2 id=&quot;understanding-how-it%E2%80%99s-related&quot;&gt;Understanding how it’s related &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/#understanding-how-it%E2%80%99s-related&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In the &lt;a href=&quot;https://codex.wordpress.org/Functions_File_Explained&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;functions.php&lt;/a&gt; file, search for &lt;em&gt;customizer.php&lt;/em&gt;, you’ll find a line like this one :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/inc/customizer.php&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So the file &lt;a href=&quot;https://codex.wordpress.org/Theme_Customization_API&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;customizer.php&lt;/a&gt; is located in a folder named &lt;strong&gt;&lt;em&gt;inc&lt;/em&gt;&lt;/strong&gt; at the root of the theme.&lt;br /&gt;
If you look inside this file, at the very bottom, you’ll find a little block of code like this one :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Binds JS handlers to make Theme Customizer preview reload changes asynchronously.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;customizer_preview_customize_preview_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_enqueue_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customizer-preview-customizer&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/js/customizer.js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize-preview&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;20151215&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_preview_init&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customizer_preview_customize_preview_js&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So here, we have a call for another file &lt;strong&gt;customizer.js&lt;/strong&gt;, located in a folder named &lt;strong&gt;&lt;em&gt;js&lt;/em&gt;&lt;/strong&gt; at the root of the theme.&lt;br /&gt;
If you take a look inside it, you’ll find a bunch of code allowing us to view the changes we make from the Customizer.&lt;/p&gt;
&lt;h2 id=&quot;the-customizer%E2%80%99s-parts&quot;&gt;The Customizer’s Parts &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/#the-customizer%E2%80%99s-parts&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When you open the Customizer, you’ll find yourself in front of a screen with two parts :&lt;br /&gt;
a- the &lt;strong&gt;Customizer Pane&lt;/strong&gt; where the &lt;strong&gt;Controls&lt;/strong&gt; (like Background Image) of a theme are defined in &lt;strong&gt;customizer.php&lt;/strong&gt;&lt;br /&gt;
b- the &lt;strong&gt;Customizer Preview&lt;/strong&gt; where the &lt;strong&gt;Settings&lt;/strong&gt; defined in &lt;strong&gt;customizer.js&lt;/strong&gt; act like a bridge between the Controls and their related Partials.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;Partial&lt;/strong&gt; is simply a particular part of a theme like the header, the body, the footer, the logo, the site title, the tagline… and so on.&lt;/p&gt;
&lt;p&gt;As an example, you could have a Control to control the site title color by a Setting linking that color Control to the desired Partial (here the site title).&lt;br /&gt;
Now, when you change the color Control in the Pane, the defined Setting for this color Control calls the related Partial in the Preview and tells him to change according to the modifications of his Control.&lt;/p&gt;
&lt;p&gt;If you want to dive more into that, you can read about the &lt;a href=&quot;https://developer.wordpress.org/themes/customize-api/customizer-objects/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Customizer Objects&lt;/a&gt; in the Theme Handbook.&lt;/p&gt;
&lt;h2 id=&quot;listening-to-changes&quot;&gt;Listening to changes &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/listen-for-changes-in-customizer-preview/#listening-to-changes&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;At this point, you understand how the Customizer’s parts communicate.&lt;br /&gt;
But what if you need to listen for changes in the Preview ?&lt;br /&gt;
This will be mostly a need if you are a developer or in the process of becoming one 💪👍&lt;/p&gt;
&lt;p&gt;Quick quizz. Where do you think the following code will go ?&lt;br /&gt;
Don’t look under the code before giving an answer 😁&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Listen for any changes in the Customizer Preview.&lt;/span&gt;&lt;br /&gt;wp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;change&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;setting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token comment&quot;&gt;// Target the Setting, let&#39;s take background_image as an example.&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; setting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;background_image&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// The background is empty by default.&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// So, we begin by listening to a non empty value,&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token comment&quot;&gt;// to catch the first change when it happens !&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;setting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_value &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I Now Have A Background 🙂&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;			console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I Do Not Have A Background 🙁&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What does this code do ?&lt;br /&gt;
It listen to any &lt;code&gt;&#39;change&#39;&lt;/code&gt; of a defined &lt;code&gt;( setting )&lt;/code&gt;.&lt;br /&gt;
Remember, a Setting is a bridge allowing communication between a Control and it’s related Partial.&lt;br /&gt;
So when a communication occurs, a change is ongoing and then done !&lt;br /&gt;
In the example above, we are listening to any change on the &lt;code&gt;background_image&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Did you try to look for &lt;code&gt;background_image&lt;/code&gt; in the generated theme from underscores ?!&lt;br /&gt;
If you did, you know by now that it’s not here 🤔 and if you didn’t, don’t, you will not find it !&lt;br /&gt;
Well, I’ve used it as an example to grab your attention on Core Controls/Settings !&lt;br /&gt;
Some Controls/Settings comes with WordPress by default, they can be modified or removed, but this will be for another article.&lt;/p&gt;
&lt;p&gt;I didn’t forget, I just delayed it 😈&lt;br /&gt;
The code above should go inside &lt;strong&gt;customizer.js&lt;/strong&gt; between a :&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;YES&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;HERE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jQuery&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I really hope that this will be useful.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Hide WordPress Toolbar with wp_add_inline_style</title>
		<link href="https://lebcit.github.io/posts/hide-wordpress-toolbar-with-wp_add_inline_style/"/>
		<updated>2020-05-22T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/hide-wordpress-toolbar-with-wp_add_inline_style/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about using &lt;code&gt;wp_add_inline_style()&lt;/code&gt; function to hide the WordPress Toolbar or Admin Bar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ever wanted to hide the WordPress Toolbar ?&lt;br /&gt;
If you are a new developer, you should know that it&#39;s not allowed to hide it directly wit CSS.&lt;br /&gt;
But even if you are a junior or senior WordPress user, you should consider this requirement for best practice, also you&#39;ll maybe learn something new 😉&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wordpress.org/support/article/toolbar/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;The WordPress Toolbar&lt;/a&gt; is the little black bar on top of the site that only the logged in user(s) can see, depending on their &lt;a href=&quot;https://wordpress.org/support/article/roles-and-capabilities/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;role(s)&lt;/a&gt; and how the Super Admin or the Administrator has configured the visibility of this bar for each one…&lt;/p&gt;
&lt;p&gt;We can set the display status of this bar for the front side of our website by using the &lt;a href=&quot;https://developer.wordpress.org/reference/functions/show_admin_bar/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;show_admin_bar()&lt;/a&gt; function.&lt;/p&gt;
&lt;p&gt;Also, we can directly target it by it’s CSS &lt;em&gt;&lt;code&gt;id #wpadminbar&lt;/code&gt;&lt;/em&gt; and hide it like so :&lt;/p&gt;
&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;#wpadminbar&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but this way is not allowed for themes/plugins developers !&lt;/p&gt;
&lt;p&gt;You can say, &lt;em&gt;“just use &lt;code&gt;show_admin_bar&lt;/code&gt; !”&lt;/em&gt;, and I would ask the following :&lt;br /&gt;
&lt;em&gt;“what if I want to hide it with CSS without using a stylesheet so I can control it with JS for later use ?!”&lt;/em&gt; 😉&lt;br /&gt;
It’s not the main reason, you can have any other reason to hide it with CSS without using a stylesheet, scenarios are limitless.&lt;/p&gt;
&lt;p&gt;This is where &lt;a href=&quot;https://developer.wordpress.org/reference/functions/wp_add_inline_style/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;wp_add_inline_style()&lt;/a&gt; function steps in 🙂&lt;br /&gt;
In your &lt;a href=&quot;https://codex.wordpress.org/Functions_File_Explained&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;functions.php&lt;/a&gt; file, add the following :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Hide the Toolbar using inline style since we can&#39;t use #wpadminbar in CSS.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;myfunction_hide_adminbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$hide_adminbar&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string double-quoted-string&quot;&gt;&quot;&lt;br /&gt;        #wpadminbar{&lt;br /&gt;            display: none;&lt;br /&gt;        }&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;wp_add_inline_style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;my-stylesheet-handle&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$hide_adminbar&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;wp_enqueue_scripts&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;myfunction_hide_adminbar&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please, pay attention to the &lt;code&gt;$handle&lt;/code&gt; &lt;strong&gt;my-stylesheet-handle&lt;/strong&gt; !&lt;br /&gt;
You should replace it with the &lt;code&gt;$handle&lt;/code&gt; of your stylesheet !&lt;br /&gt;
In your &lt;strong&gt;functions.php&lt;/strong&gt; file, you’ll find something like :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token function&quot;&gt;wp_enqueue_style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;your-stylesheet-handle&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_stylesheet_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;your-stylesheet-handle&lt;/strong&gt; is the &lt;code&gt;$handle&lt;/code&gt; of your stylesheet 😉&lt;/p&gt;
&lt;p&gt;Hope this will be useful 🙂&lt;br /&gt;
Please don’t hesitate to share your opinion, suggestions or other methods.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Modifying WordPress theme&#39;s copyright from the Customizer</title>
		<link href="https://lebcit.github.io/posts/modifying-wordpress-theme-copyright-from-the-customizer/"/>
		<updated>2020-05-21T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/modifying-wordpress-theme-copyright-from-the-customizer/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about modifying WordPress theme&#39;s copyright from the Customizer.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;One of the most asked question by new WordPress users is:&lt;br /&gt;
&lt;strong&gt;&amp;quot;how to change the copyright ?&amp;quot;&lt;/strong&gt;.&lt;br /&gt;
They don&#39;t want a label of any kind on their site and that&#39;s totally comprehensible.&lt;br /&gt;
In this post, I&#39;ll be talking of my own sauce to give users the ability to remove or modify the copyright without touching one line of code !&lt;/p&gt;
&lt;p&gt;If you are new to the Customizer, don&#39;t be afraid, I was too a long time ago...&lt;br /&gt;
So in this post I&#39;ll show you a technique to control the copyright of WordPress, generally displayed in the footer of a theme, from the Customizer.&lt;br /&gt;
You can use it in your own theme to give your users a clean and easy way to modify the footer copyright, or use it in a child theme to modify the footer copyright of the parent theme that you are using.&lt;/p&gt;
&lt;h2 id=&quot;1--replace-the-footer-copyright-by-a-function&quot;&gt;1- Replace the footer copyright by a function &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/modifying-wordpress-theme-copyright-from-the-customizer/#1--replace-the-footer-copyright-by-a-function&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;First of all select the part that should be modified. Generally speaking, it&#39;s a sentence like: &amp;quot;&lt;em&gt;Proudly powered by WordPress, Theme: theme-name by theme-author&lt;/em&gt;&amp;quot;.&lt;br /&gt;
I&#39;m going to take the generated footer by &lt;a href=&quot;https://underscores.me/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;_s&lt;/a&gt; (underscores) as an example for this task.&lt;br /&gt;
Looking inside the &lt;strong&gt;footer.php&lt;/strong&gt;, we can see a code like this:&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;footer&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;colophon&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;site-footer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;site-info&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;https://wordpress.org/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;/* translators: %s: CMS name, i.e. WordPress. */&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Proudly powered by %s&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;WordPress&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sep&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; | &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;/* translators: 1: Theme name, 2: Theme author. */&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Theme: %1$s by %2$s.&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;a href=&quot;https://github.com/LebCit&quot;&gt;LebCit&amp;lt;/a&gt;&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- .site-info --&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;footer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- #colophon --&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here, we are interested with the code inside &lt;code&gt;&amp;lt;div class=&amp;quot;site-info&amp;quot;&amp;gt;&lt;/code&gt;, so let&#39;s cut it, paste it somewhere else (like notepad), and replace it by a php function.&lt;br /&gt;
The code should now be like the following:&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;footer&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;colophon&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;site-footer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;site-info&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;site-info&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;midday_site_info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- .site-info --&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;footer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- #colophon --&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can name the function whatever you like, but be sure to replace any name modification according to the changes you have made in the wright place in the code.&lt;br /&gt;
Please note that I&#39;ve added an &lt;code&gt;&amp;lt;id=&amp;quot;site-info&amp;quot;&amp;gt;&lt;/code&gt; this will be used in the Customizer.&lt;/p&gt;
&lt;h2 id=&quot;2--put-the-footer-copyright-in-functions.php&quot;&gt;2- Put the footer copyright in functions.php &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/modifying-wordpress-theme-copyright-from-the-customizer/#2--put-the-footer-copyright-in-functions.php&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now we have to connect this &lt;code&gt;midday_site_info()&lt;/code&gt; function with the block of code previously pasted elsewhere.&lt;br /&gt;
In the &lt;a href=&quot;https://codex.wordpress.org/Functions_File_Explained&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;functions.php&lt;/a&gt; file of your theme or your child theme, put this code, I&#39;ll explain it just after :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt; * Output the theme&#39;s copyright depending on user&#39;s choice.&lt;br /&gt; */&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;midday_site_info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$midday_footer_copyright_area_checkbox&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_theme_mod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$midday_custom_copyright_textarea&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_theme_mod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_custom_copyright_textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$midday_footer_copyright_area_checkbox&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token variable&quot;&gt;$html&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;a href=&quot;&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;https://wordpress.org/&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&quot;&gt;&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Proudly powered by WordPress&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;/a&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token variable&quot;&gt;$html&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.=&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;span class=&quot;sep&quot;&gt; | &amp;lt;/span&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token variable&quot;&gt;$html&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Theme: MidDay by &#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;a href=&quot;&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;https://lebcit.github.io/&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&quot;&gt;&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;LebCit&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&amp;lt;/a&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wp_kses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token variable&quot;&gt;$html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;a&#39;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;href&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;span&#39;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;class&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;elseif&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$midday_footer_copyright_area_checkbox&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$midday_custom_copyright_textarea&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wp_kses_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$midday_custom_copyright_textarea&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Allow html.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;endif&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What in the hell is this ?&lt;br /&gt;
It&#39;s nothing 😂 it&#39;s just the same pasted elsewhere code in PHP with some variables and an &lt;code&gt;if/elseif&lt;/code&gt; statement to take care of the user&#39;s choice.&lt;/p&gt;
&lt;p&gt;Inside the function, I&#39;ve defined 2 variables. Each one is related to a &lt;code&gt;theme_mod&lt;/code&gt; (theme modification) that we will create and explain in a moment.&lt;/p&gt;
&lt;p&gt;I&#39;ve opened an &lt;code&gt;if&lt;/code&gt; statement saying:&lt;br /&gt;
&lt;em&gt;if the first variable (remember it&#39;s related to a &lt;code&gt;theme_mod&lt;/code&gt;, yes it&#39;s a checkbox)&lt;/em&gt; 😉 &lt;em&gt;is not empty (so it have a check tick, it&#39;s checked) please populate the copyright with the following code&lt;/em&gt;.&lt;br /&gt;
The code here is pretty easy to understand.&lt;br /&gt;
I&#39;ve defined an &lt;code&gt;$html&lt;/code&gt; variable replicating the pasted elsewhere code, then I&#39;ve asked PHP to echo this code using &lt;a href=&quot;https://developer.wordpress.org/reference/functions/wp_kses/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;wp_kses&lt;/a&gt; filtering the text content and striping out disallowed HTML.&lt;/p&gt;
&lt;p&gt;In other words:&lt;br /&gt;
&lt;em&gt;hey &lt;code&gt;wp_kses&lt;/code&gt;, please echo the defined &lt;code&gt;$html&lt;/code&gt; variable, and please allow it to only have &lt;code&gt;a&lt;/code&gt; tag with &lt;code&gt;href&lt;/code&gt; attribute and &lt;code&gt;span&lt;/code&gt; tag with &lt;code&gt;class&lt;/code&gt; attribute, thank you very much&lt;/em&gt; 😊&lt;/p&gt;
&lt;p&gt;After that, I&#39;ve opened an &lt;code&gt;elseif&lt;/code&gt; statement saying:&lt;br /&gt;
&lt;em&gt;okay, if the first variable is empty (the checkbox is not checked) and the second variable (a text area) is not empty, please populate the copyright with the content of the text area allowing the user to use HTML inside it with&lt;/em&gt; &lt;a href=&quot;https://developer.wordpress.org/reference/functions/wp_kses_post/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;wp_kses_post&lt;/a&gt; &lt;em&gt;that will keep an eye and make sure the user type allowed HTML only, that&#39;s it I&#39;ve nothing more to ask so please close the if statement with this &lt;code&gt;endif;&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;3--create-settings-and-controls-in-the-customizer&quot;&gt;3- Create settings and controls in the Customizer &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/modifying-wordpress-theme-copyright-from-the-customizer/#3--create-settings-and-controls-in-the-customizer&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Do you remember the 2 previous variables ?&lt;br /&gt;
They where related to theme&#39;s modifications.&lt;br /&gt;
It&#39;s time to create those &lt;code&gt;theme_mod&lt;/code&gt; and test our code.&lt;br /&gt;
To keep the functions.php file clean, we will put the following in a customizer.php file if you don&#39;t have one already. Yous just have to require it from functions.php like so :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_template_directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;/inc/customizer.php&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please note that in this example the file is in a folder named inc (for includes) at the root of the theme or the child theme, you can change this but be sure to indicate the correct path.&lt;br /&gt;
Now, put the following in customizer.php, let&#39;s see the code and explain it later:&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;midday_customize_register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt;     * MidDay Theme Panel&lt;br /&gt;     */&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_panel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_panel&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;title&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;MidDay Theme&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;description&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Customize MidDay Theme&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;priority&#39;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt;     * Footer Copyright Area Section.&lt;br /&gt;     */&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_section&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;title&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Footer Copyright Area&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;description&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Modify &amp;lt;b&gt;Footer Copyright Area&amp;lt;/b&gt;.&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;panel&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_panel&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;priority&#39;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// Default copyright.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_setting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;default&#39;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;transport&#39;&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;postMessage&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;sanitize_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_sanitize_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_control&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;label&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Enable/Disable Default Copyright.&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;description&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;This checkbox, once &amp;lt;b&gt;unchecked&amp;lt;/b&gt;,&amp;lt;br&gt;removes &amp;lt;b&gt;Default Copyright.&amp;lt;/b&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;section&#39;&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_section&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;type&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;selective_refresh&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_partial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;selector&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;#site-info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;settings&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;render_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_site_info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// Custom copyright.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_setting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_custom_copyright_textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;default&#39;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;transport&#39;&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;postMessage&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;sanitize_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;wp_kses_post&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Allow html.&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_control&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_custom_copyright_textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;label&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;esc_html__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Custom Copyright Textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;description&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;To display a &amp;lt;b&gt;Custom Copyright&amp;lt;/b&gt;,&amp;lt;br&gt;&amp;lt;b&gt;uncheck&amp;lt;/b&gt; the &amp;lt;b&gt;Default Copyright&amp;lt;/b&gt; checkbox,&amp;lt;br&gt;then type a custom copyright in the textarea.&amp;lt;br&gt;&amp;lt;b&gt;HTML&amp;lt;/b&gt; is allowed !&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;section&#39;&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_section&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;type&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;input_attrs&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;style&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;border: 1px solid #999&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;placeholder&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Enter Custom Copyright...&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;selective_refresh&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_partial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_custom_copyright_textarea&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;selector&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;#site-info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;settings&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_custom_copyright_textarea&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;render_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_site_info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_register&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_customize_register&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Don&#39;t panic, it&#39;s pretty straightforward !&lt;br /&gt;
Let&#39;s break it down and you&#39;ll see.&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;mytheme_customize_register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;//All our sections, settings, and controls will be added here&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;add_action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;customize_register&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;mytheme_customize_register&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is how we hook a function to the &lt;a href=&quot;https://codex.wordpress.org/Plugin_API/Action_Reference/customize_register&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;&#39;customize_register&#39;&lt;/a&gt; action and put inside it our panels, sections, settings and controls.&lt;br /&gt;
Looking at our code, you can now understand that I&#39;ve created a panel, a section, 2 settings and their 2 related controls.&lt;br /&gt;
I&#39;m not going to dive into the Customizer, but if you&#39;re not familiar with it, a good start would be this &lt;a href=&quot;https://maddisondesigns.com/2017/05/the-wordpress-customizer-a-developers-guide-part-1/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;excellent guide&lt;/a&gt; by Anthony Hortin.&lt;br /&gt;
Instead, I&#39;m going to explain a more important aspect here. If you take a good look at the code, you&#39;ll see something else under each control :&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;selective_refresh&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;add_partial&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What is this and what does it do ?&lt;br /&gt;
Well, look closer and you&#39;ll figure it out yourself 😂&lt;br /&gt;
Just kidding, but in fact it&#39;s really clear.&lt;br /&gt;
Let&#39;s take one setting it&#39;s control and the related selective_refresh:&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Default copyright.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_setting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;default&#39;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;transport&#39;&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;postMessage&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;sanitize_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_sanitize_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_control&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;label&#39;&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;Enable/Disable Default Copyright.&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;description&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;This checkbox, once &amp;lt;b&gt;unchecked&amp;lt;/b&gt;,&amp;lt;br&gt;removes &amp;lt;b&gt;Default Copyright.&amp;lt;/b&gt;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;section&#39;&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_section&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;type&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;$wp_customize&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;selective_refresh&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add_partial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;selector&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;#site-info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;settings&#39;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_footer_copyright_area_checkbox&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;render_callback&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_site_info&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember the first variable ?&lt;br /&gt;
Well here is it&#39;s &lt;code&gt;theme_mod&lt;/code&gt; !&lt;br /&gt;
Take a look at the &lt;strong&gt;setting&lt;/strong&gt; name &lt;code&gt;midday_footer_copyright_area_checkbox&lt;/code&gt; 😉&lt;br /&gt;
The important part here is &lt;code&gt;&#39;transport&#39; =&amp;gt; &#39;postMessage&#39;&lt;/code&gt;, because it tells the browser not to reload, but to make the change(s) in place !&lt;br /&gt;
Another important aspect in the &lt;strong&gt;setting&lt;/strong&gt; is &lt;code&gt;&#39;sanitize_callback&#39; =&amp;gt; &#39;midday_sanitize_checkbox&#39;&lt;/code&gt;, this is a function to sanitize the checkbox, you should put it &lt;strong&gt;after&lt;/strong&gt; the &lt;code&gt;&#39;customize_register&#39;&lt;/code&gt; action hook:&lt;/p&gt;
&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;function_exists&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&#39;midday_sanitize_checkbox&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;/**&lt;br /&gt;     * Switch sanitization&lt;br /&gt;     *&lt;br /&gt;     * @param string $input Switch value.&lt;br /&gt;     * @return integer  Sanitized value&lt;br /&gt;     */&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;midday_sanitize_checkbox&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$input&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$input&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the &lt;strong&gt;control&lt;/strong&gt;, the important part is the type of the control, as you can see it&#39;s defined as checkbox, no surprise, WYaskIWYG 😂&lt;br /&gt;
For the &lt;strong&gt;partial&lt;/strong&gt;, the important part is the selector, it must be an &lt;code&gt;id&lt;/code&gt;, now you know why I&#39;ve added an &lt;code&gt;id&lt;/code&gt; previously 👍&lt;br /&gt;
If you look at the &lt;code&gt;settings&lt;/code&gt; and the &lt;code&gt;render_callback&lt;/code&gt; of the &lt;strong&gt;partial&lt;/strong&gt;, you&#39;ll understand that everything is related 🔗 and that we are just putting the wright piece in the wright place 🧩&lt;/p&gt;
&lt;p&gt;You maybe guessed it out or not, but yes I&#39;m developing a new theme called MidDay (in fact I&#39;ve finished it, just some clean up remaining) and I&#39;ll submit it very soon 😁&lt;/p&gt;
&lt;p&gt;I really hope that this was helpful.&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Get Google products on desktop with Thunderbird</title>
		<link href="https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/"/>
		<updated>2020-05-14T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about using Google products on a desktop with Thunderbird.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Every time&lt;/strong&gt; you want to check your Gmail, Agenda, Drive, Keep... on your desktop, you have to open a browser and log in, to be able use them.&lt;br /&gt;
Did you ever asked your self how much time this process is taking in a week, a month, a year ?&lt;br /&gt;
Well, with Thunderbird you will not ask yourself that anymore !&lt;/p&gt;
&lt;h2 id=&quot;thunderbird&quot;&gt;Thunderbird &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/#thunderbird&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I&#39;m not going to explain in this post how to install Thunderbird, but you can just go to &lt;a href=&quot;https://www.thunderbird.net/en-US/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;the official website&lt;/a&gt; and download it, the installation process is &lt;strong&gt;very&lt;/strong&gt; easy.&lt;br /&gt;
So, assuming you have Thunderbird installed and running, I&#39;m going to explain how to get all Google products directly inside it, and it&#39;s also very easy to do it.&lt;/p&gt;
&lt;h2 id=&quot;profile-or-profiles&quot;&gt;Profile or profiles &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/#profile-or-profiles&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When you install Thunderbird and run it, a default profile will be created. You can access the profiles&#39; manager by typing this command :&lt;/p&gt;
&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;thunderbird&lt;/span&gt;.exe &lt;span class=&quot;token parameter attr-name&quot;&gt;-p&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You&#39;ll then be able to do various actions, as adding, renaming, deleting... a profile and so on...&lt;br /&gt;
This is not a part of the process but it&#39;s important to know that you can do it, maybe you want to add a profile for your work and another for you 😉 this is a very convenient way to separate your personal stuff 👍&lt;br /&gt;
Once a profile is created, start it, add your name (as you want to display it for this account), your e-mail, and your password, and that&#39;s it !&lt;br /&gt;
&lt;strong&gt;Important note&lt;/strong&gt;if you use multiple profiles (or even one if you want) :&lt;br /&gt;
you don&#39;t have to type the above command each time you want to access the manager, just untick the &lt;em&gt;Don&#39;t ask at startup&lt;/em&gt; box and now you&#39;ll get the manager every time you launch Thunderbird.&lt;/p&gt;
&lt;h2 id=&quot;google-products&quot;&gt;Google products &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/#google-products&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The easiest way is to add only one plugin. To add an extension in Thunderbird, click the main menu button, choose &lt;strong&gt;Add-ons&lt;/strong&gt;, then &lt;strong&gt;Extensions&lt;/strong&gt; in the left panel, search for &lt;em&gt;ThunderKeepPlus&lt;/em&gt; and install it.&lt;br /&gt;
Once installed, it will ask you to connect to your Google account, after that your Google Keep will be displayed, in a new tab inside Thunderbird, as if it was in a browser and you will have access to all Google products as you usually do in a browser 💪&lt;/p&gt;
&lt;h2 id=&quot;security&quot;&gt;Security &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/#security&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I don&#39;t have to tell you to be aware of this technique because you should only do it on your personal machine only, but I&#39;m telling you just for security and conscience reasons 😊&lt;/p&gt;
&lt;h2 id=&quot;final-note&quot;&gt;Final note &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/get-google-products-on-desktop-with-thunderbird/#final-note&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you want to know more about Thunderbird, head over &lt;a href=&quot;https://support.mozilla.org/en-US/products/thunderbird&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;the official support&lt;/a&gt; , everything is well explained.&lt;/p&gt;
&lt;hr /&gt;
&lt;p class=&quot;post-content hide&quot;&gt;
&lt;em&gt;Note: background image used, work of &lt;a href=&quot;https://pxhere.com/en/photo/417303&quot; target=&quot;_blank&quot;&gt;Les Haines&lt;/a&gt;&lt;/em&gt;
&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>The Clean Blog WordPress theme</title>
		<link href="https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/"/>
		<updated>2020-05-09T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/</id>
		<content type="html">&lt;p&gt;Hello everyone,&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This post is about the development and usage of The Clean Blog WordPress theme.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;credits&quot;&gt;Credits &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/#credits&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This WordPress Theme wouldn’t have seen the light without :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;a href=&quot;https://startbootstrap.com/themes/clean-blog/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Clean Blog&lt;/a&gt; template by &lt;a href=&quot;https://github.com/davidtmiller&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;David Miller&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;the starter theme &lt;a href=&quot;https://underscores.me/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Underscores&lt;/a&gt; by &lt;a href=&quot;https://automattic.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Automattic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;and our beloved CMS &lt;a href=&quot;https://wordpress.org/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;WordPress&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;about&quot;&gt;About &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/#about&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Users, like I was a long time ago, tend to search for themes with ‘cool’ functionalities to make their websites stand out without knowing the real cost (performance, accessibility, best practices, search engine optimization, and so on…) of the ‘bling-bling’ they are using…&lt;br /&gt;
Two years ago, when &lt;em&gt;The Clean Blog&lt;/em&gt; was released (in 2017), I was not aware of those critical facts and developed it with a user mindset…&lt;br /&gt;
Today (in 2019), after two more years of diving, learning and improving, I can’t just sit back and let even a few hundreds of people use a bloated theme with a lot of ‘bling-bling’ functionalities !&lt;br /&gt;
As developers improve, they don’t feel shy or ashamed at all to point users in the right direction(s) for a better experience and a better Web even if this mean hours of developing are going to be wasted ( not really because we learn from our mistakes ) and gone with the wind…&lt;br /&gt;
Users are always free to switch from a theme to any other one, but for me, as a conscientious developer, I have to make the best decisions concerning my code for the web and the users experience…&lt;br /&gt;
In short, the new theme is much more well coded and to be very honest is not bloated like the old one…&lt;/p&gt;
&lt;h2 id=&quot;usage&quot;&gt;Usage &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/#usage&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1- To use this theme, you have to &lt;a href=&quot;https://wordpress.org/themes/the-clean-blog/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;download&lt;/a&gt; it from the WordPress themes repository and add it under &lt;em&gt;Appearance→Themes→Add New→Upload Theme&lt;/em&gt;, or search for &lt;strong&gt;The Clean Blog&lt;/strong&gt; under &lt;em&gt;Appearance→Themes→Add New&lt;/em&gt; in the backend.&lt;/p&gt;
&lt;p&gt;2- Since the theme is Bootstrap based, I&#39;ve wrote a lightweight JavaScript plugin, &lt;a href=&quot;https://github.com/LebCit/bsWalker.js&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;bsWalker.js&lt;/a&gt; , to take care of multilevel dropdown navigation.&lt;br /&gt;
To create an item link with children :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;go to &lt;em&gt;Appearance→Menus&lt;/em&gt; in the backend&lt;/li&gt;
&lt;li&gt;create a &lt;strong&gt;Custom Link&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;in &lt;em&gt;URL&lt;/em&gt; type &lt;strong&gt;#&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;in &lt;em&gt;Link Text&lt;/em&gt; type the label of your choice&lt;/li&gt;
&lt;li&gt;put children links under this custom link&lt;/li&gt;
&lt;li&gt;in &lt;strong&gt;Menu Settings&lt;/strong&gt;, under the created menu, choose &lt;strong&gt;Primary&lt;/strong&gt; as location and save your menu&lt;/li&gt;
&lt;li&gt;nothing more to do, that&#39;s it ! 😁&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3- In the Customizer (&lt;em&gt;Appearance→Customize&lt;/em&gt; or &lt;em&gt;Customize&lt;/em&gt; link in the Admin Bar), you&#39;ll find a panel named &lt;em&gt;The Clean Blog Theme&lt;/em&gt; and four sections (for now: &lt;em&gt;Homepage Header Slider, Featured Image Display, Footer Social Sites Links and Footer Copyright Area&lt;/em&gt;) under it. Under each section, controls are explained in details.&lt;br /&gt;
Note that the third section &lt;em&gt;Header Image&lt;/em&gt; is only for the home page, each post and page can have their own header image by assigning a &lt;em&gt;Featured image&lt;/em&gt; to the post or the page.&lt;/p&gt;
&lt;p&gt;4- The only plugin I&#39;ve used is &lt;a href=&quot;https://freqdec.github.io/slabText/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;slabText&lt;/a&gt; by &lt;a href=&quot;https://github.com/freqdec&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Brian McAllister&lt;/a&gt; to control the size of the site title, so don&#39;t worry if your site title is long, it will be big and bold ✨&lt;/p&gt;
&lt;p&gt;5- The Clean Blog (TCB) is a Responsive WordPress theme, perfect for personal or company blogs.&lt;/p&gt;
&lt;h2 id=&quot;feedback-%3F&quot;&gt;Feedback ? &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/#feedback-%3F&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Head over the &lt;a href=&quot;https://wordpress.org/support/theme/the-clean-blog&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;support page&lt;/a&gt; to tell me if you’re having some issues or if you wish to see some features added to the theme 😉&lt;br /&gt;
You can also leave a review on the &lt;a href=&quot;https://wordpress.org/support/theme/the-clean-blog/reviews/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;reviews page&lt;/a&gt; to give me a push 👍&lt;br /&gt;
Thanks in advance for your feedback !&lt;/p&gt;
&lt;h2 id=&quot;final-word&quot;&gt;Final word &lt;a class=&quot;direct-link&quot; href=&quot;https://lebcit.github.io/posts/the-clean-blog-wordpress-theme/#final-word&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I really hope that this theme will be useful for a lot of WordPress users and that they&#39;ll enjoy using it. I&#39;ll be making improvements to TCB from time to time, so don&#39;t worry, and be talking about it here, so stay tuned !&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Back to the roots with a static site</title>
		<link href="https://lebcit.github.io/posts/back-to-the-roots-with-a-static-site/"/>
		<updated>2020-05-04T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/back-to-the-roots-with-a-static-site/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This is a post about my own experience with development and static site.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;From Zero to Hero or at least not a zero anymore !&lt;br /&gt;
From the Highway to the Classic Road.&lt;/p&gt;
&lt;p&gt;If you didn&#39;t read my &lt;a href=&quot;https://lebcit.github.io/about/&quot;&gt;About&lt;/a&gt; section, you can quickly guess from the tagline that I&#39;m a self-taught developer.&lt;/p&gt;
&lt;p&gt;I didn&#39;t have a clue about the amazing world of code, or even heard about HTML, CSS or JS.&lt;br /&gt;
So with a will to understand, after being played and robbed by a so-called &lt;em&gt;developer&lt;/em&gt;, my first task was to learn English ! Oh, yeah 🤣&lt;/p&gt;
&lt;p&gt;After acquiring a basic level of understanding, the real deal was to confront this nightmare, &lt;code&gt;the code&lt;/code&gt; 👻&lt;br /&gt;
From where should I begin ?!&lt;br /&gt;
What should I learn first ?!&lt;br /&gt;
How to create a website ?!&lt;br /&gt;
...&lt;br /&gt;
So many questions with no clear answer for me 😱&lt;/p&gt;
&lt;p&gt;Since I wanted to start quick (newbie error), I took the wrong path and started to seek for easy ways to create a website (don&#39;t want to talk about it, very bad memory). It took me a while to realise that this was not a good choice and that I&#39;m not really learning...&lt;br /&gt;
A friend talked about a tool for creating dynamic websites called Joomla, I created my first website with Joomla and coded a little bit, but Joomla was (for me) illogical (not clear/consistent), so I tried Drupal (a cannon to kill a fly), then discovered WordPress 💘&lt;/p&gt;
&lt;p&gt;I don&#39;t know why, but I felled at home with WordPress, especially with the Codex, the Forums and tons of tutorials everywhere on the Web, the nightmare was turning to a dream coming true...&lt;br /&gt;
Meanwhile, my English was improving with all the readings and my experience was getting pleasant and smoother.&lt;br /&gt;
So I decided to make &lt;a href=&quot;https://wordpress.org/plugins/full-screen-morphing-search/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;my first plugin&lt;/a&gt; (2016), then &lt;a href=&quot;https://wordpress.org/themes/the-clean-blog/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;my first theme&lt;/a&gt; (2017), and I did it with &lt;strong&gt;a lot of difficulties&lt;/strong&gt;... I wanted to quit many times, but a voice in my head was telling me: &amp;quot;&lt;em&gt;continue, you&#39;ve already spent a lot of time over this and you are so close, don&#39;t give up now !&lt;/em&gt;&amp;quot;.&lt;/p&gt;
&lt;p&gt;Since then, I&#39;ve helped as much as I can other people, the same way great developers helped me by pointing to the right direction.&lt;br /&gt;
But, yes there is always a but, I&#39;ve written again my plugin and my theme from ground up, because I was improving, and everything with bells and whistles in the code world became (for me) useless.&lt;br /&gt;
I was turning to usability over functionality, simplicity over complexity and accessibility over bling bling code !&lt;/p&gt;
&lt;p&gt;Last year (2019), I was watching a lot of great developers turning their personal sites to static and a growing interest for &lt;a href=&quot;https://jamstack.org/generators/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Static Site Generators&lt;/a&gt; and &lt;a href=&quot;https://jamstack.org/headless-cms/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Headless CMS&lt;/a&gt;.&lt;br /&gt;
I was wondering why ?&lt;br /&gt;
I had a .tk domain that stopped working from one day to the next ! Another lesson in this world...&lt;br /&gt;
So, it was time to turn over and try the static world. I&#39;ve found myself in a completely new playground and didn&#39;t want to waste time, again, just to output basic HTML (another newbie error)...&lt;br /&gt;
After trying to totally code my site without an SSG, I figured out that it was a time killer and surely not the best way today.&lt;br /&gt;
Coming from WordPress, I wanted a CMS to output my site, so I&#39;ve tried &lt;a href=&quot;https://jocms.net/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;jocms&lt;/a&gt; and &lt;a href=&quot;https://getpublii.com/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Publii&lt;/a&gt; but I was not satisfied at all by the result nor the limitations...&lt;br /&gt;
Now (2021), after trying some SSG, I deeply felled in love with &lt;a href=&quot;https://www.11ty.dev/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Eleventy&lt;/a&gt; 💘, the best SSG in my opinion, for it&#39;s freedom, power and simplicity.&lt;br /&gt;
Interesting post : &lt;a href=&quot;https://snipcart.com/blog/choose-best-static-site-generator&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Choosing the Best Static Site Generator&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I was working on a new WordPress theme, and decided to bake it on the Classic Road and use it for me as a beginning point to my new site.&lt;br /&gt;
Big, bold and clear 😉&lt;/p&gt;
&lt;p&gt;I really hope that you like it. Soon I&#39;ll be making comments available and be talking about how I made it, so stay tuned !&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Full Screen Morphing Search Plugin</title>
		<link href="https://lebcit.github.io/posts/full-screen-morphing-search-plugin/"/>
		<updated>2020-04-28T00:00:00Z</updated>
		<id>https://lebcit.github.io/posts/full-screen-morphing-search-plugin/</id>
		<content type="html">&lt;p&gt;&lt;em&gt;This post is about my first WordPress plugin, full screen morphing search.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I’m very excited and happy to announce the release (in 2016) of &lt;strong&gt;my first plugin&lt;/strong&gt; ! This &lt;a href=&quot;https://wordpress.org/plugins/full-screen-morphing-search/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;plugin&lt;/a&gt; is based on the &lt;a href=&quot;http://tympanus.net/codrops/2014/11/04/simple-morphing-search/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Simple Morphing Search&lt;/a&gt; experimental effect created by &lt;a href=&quot;http://tympanus.net/codrops/author/crnacura/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;Mary Lou (Manoela Ilic)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It took me a week of hard work to implement this effect into WordPress. Some CSS rules were added, others slightly modified and some of them completely removed ! The JS is not the same at all ! The original effect is triggered with a function by clicking on a search input. This function relies on another script (&lt;a href=&quot;https://github.com/desandro/classie#classie---class-helper-functions&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;classie – class helper functions&lt;/a&gt;) to get the job done. I’ve removed them and created a simple JavaScript file that does the same job with 60 lines less code !&lt;/p&gt;
&lt;p&gt;I hope that this plugin will be useful for everyone using it. If you try it, don’t be shy and give me your feedback on the &lt;a href=&quot;https://wordpress.org/support/plugin/full-screen-morphing-search/reviews/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;repo&lt;/a&gt; 🙂&lt;/p&gt;
</content>
	</entry>
</feed>
