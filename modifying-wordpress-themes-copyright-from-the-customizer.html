<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

			<title>Modifying WordPress theme&#x27;s copyright from the Customizer - { LebCit } </title>

		<meta name="description" content="This post is about modifying WordPress theme's copyright from the Customizer." />
		
		<meta name="generator" content="Publii Open-Source CMS for Static Site" />
		<link rel="canonical" href="https://lebcit.github.io/modifying-wordpress-themes-copyright-from-the-customizer.html">
		
		<link rel="alternate" type="application/atom+xml" href="https://lebcit.github.io/feed.xml" />
<link rel="alternate" type="application/json" href="https://lebcit.github.io/feed.json" />

		<meta property="og:title" content="Modifying WordPress theme's copyright from the Customizer" /><meta property="og:image" content="https://lebcit.github.io/media/posts/7/copyright-under-magnifying-glass.jpg"/><meta property="og:site_name" content="{ LebCit }" /><meta property="og:description" content="This post is about modifying WordPress theme's copyright from the Customizer." /><meta property="og:url" content="https://lebcit.github.io/modifying-wordpress-themes-copyright-from-the-customizer.html" /><meta property="og:type" content="article" /> 

			<link rel="shortcut icon" href="https://lebcit.github.io/media/website/favicon-16x16.png" type="image/png" />
		
		
		<link rel="stylesheet" href="https://lebcit.github.io/assets/css/style.css?v=c0ee81d862ed28ffef933d680dfdec7d">
		<script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://lebcit.github.io/modifying-wordpress-themes-copyright-from-the-customizer.html"},"headline":"Modifying WordPress theme's copyright from the Customizer","datePublished":"2020-05-21T22:15","dateModified":"2020-06-12T22:28","image":{"@type":"ImageObject","url":"https://lebcit.github.io/media/posts/7/copyright-under-magnifying-glass.jpg","height":848,"width":1280},"description":" This post is about modifying WordPress theme's copyright from the Customizer. One of the most asked question by new WordPress users is: \"how to change the copyright ?\". They don't want a label of any kind on their site and that's totally comprehensible. In this post, I'll be talking of my own sauce to&hellip;","author":{"@type":"Person","name":"LebCit"},"publisher":{"@type":"Organization","name":"LebCit"}}</script>
		
		<meta name="google-site-verification" content="uvbH-6ck13HtnTSvTxZ22YRcI3wok9_oj7X8Aodexo8">
<link rel='manifest' href='/manifest.json'>

	</head>
	<body>

		

		<div id="layout" class="grid">
			<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
			<div id="main-navigation" aria-label="Main navigation" class="overlay" tabindex="-1">
				<a href="javascript:void(0)" id="close-button" class="close-button" aria-label="Close menu"
					title="Close menu">&times;</a>
				<div class="overlay-content">
						
			
								<a
									href="https://lebcit.github.io/about.html"
			
			
										target="_self"
			
			
			>
			
									About
								</a>
			
			
						
			
								<a
									href="https://github.com/LebCit"
			
			
										target="_blank"
			
			
			>
			
									GitHub
								</a>
			
			
						
			
								<a
									href="https://lebcit.github.io/theme/"
			
			
										target="_self"
			
			
			>
			
									Themes
								</a>
			
			
						
			
								<a
									href="https://lebcit.github.io/plugin/"
			
			
										target="_self"
			
			
			>
			
									Plugins
								</a>
			
			
			
				</div>
			</div>
			<div class="sidebar unit-1 unit-lg-2-5" style="background-image:
						url(https://lebcit.github.io/media/posts/7/copyright-under-magnifying-glass.jpg)
			">
			
				<div class="header">
					<h1 class="brand-title">
						<a href="https://lebcit.github.io/">{ LebCit }</a>
					</h1>
					<p class="brand-tagline">
						Autodidactic WordPress Developer.<br>
						Love to Read, Learn & DIMySelf !
					</p>
			
					<nav class="nav">
						<ul class="nav-list">
			
							<li class="nav-item">
								<a id="menu-button" aria-controls="main-navigation" aria-haspopup="true" tabindex="0" role="button">
									MENU
									<span class="menu-icon" aria-hidden="true">
										<svg version='1.1' x='0px' y='0px' width='30px' height='30px' viewBox='0 0 30 30'
											enable-background='new 0 0 30 30'>
											<rect width='30' height='5' />
											<rect y='24' width='30' height='5' />
											<rect y='12' width='30' height='5' /></svg>
									</span>
								</a>
							</li>
						</ul>
			
					</nav>
				</div>
			</div>
			<div id="content" class="content unit-1 unit-lg-3-5">
<main class="single-post">


      <article> 
		<header class="post-header">
		
			<h2 class="post-title">
				Modifying WordPress theme&#x27;s copyright from the Customizer
			</h2>
		
			<p class="post-meta">
				Posted on
				<span class="posted-on">
					<time datetime="May 21st 2020">
						May 21st 2020
					</time>
				</span>
		
				<br>Tagged
						<span class="post-category">
							<a href="https://lebcit.github.io/copyright/">Copyright</a>
						</span>
						<span class="post-category">
							<a href="https://lebcit.github.io/customizer/">Customizer</a>
						</span>
						<span class="post-category">
							<a href="https://lebcit.github.io/development/">Development</a>
						</span>
						<span class="post-category">
							<a href="https://lebcit.github.io/tips-and-tricks/">Tips &amp; Tricks</a>
						</span>
		
			</p>
		
		</header>
         
		<div id="post-entry" class="post-content">
		
  <p>
    <em>This post is about modifying WordPress theme's copyright from the Customizer.</em>
  </p>

  <p>
    One of the most asked question by new WordPress users is:
<br>"how to change the copyright ?".
<br>They don't want a label of any kind on their site and that's totally comprehensible.
<br>In this post, I'll be talking of my own sauce to give users the ability to remove or modify the copyright without touching one line of code !
  </p>

  <p>
    If you are new to the Customizer, don't be afraid, I was too a long time ago...
<br>So in this post I'll show you a technique to control the copyright of WordPress, generally displayed in the footer of a theme, from the Customizer.
<br>You can use it in your own theme to give your users a clean and easy way to modify the footer copyright, or use it in a child theme to modify the footer copyright of the parent theme that you are using.
  </p>

    <h2 id="1-replace-the-footer-copyright-by-a-function">
      1- Replace the footer copyright by a function
    </h2>

  <p>
    First of all select the part that should be modified. Generally speaking, it's a sentence like: "<em>Proudly powered by WordPress, Theme: theme-name by theme-author</em>".
<br>I'm going to take the generated footer by <a href="https://underscores.me/" target="_blank">_s</a> (underscores) as an example for this task.
<br>Looking inside the <strong>footer.php</strong>, we can see a code like this:
  </p>
<pre class="line-numbers  language-html"><code>&lt;footer id="colophon" class="site-footer"&gt;
    &lt;div class="site-info"&gt;
        &lt;a href="&lt;?php echo esc_url( __( 'https://wordpress.org/', 'midday' ) ); ?&gt;"&gt;
            &lt;?php
            /* translators: %s: CMS name, i.e. WordPress. */
            printf( esc_html__( 'Proudly powered by %s', 'midday' ), 'WordPress' );
            ?&gt;
        &lt;/a&gt;
        &lt;span class="sep"&gt; | &lt;/span&gt;
            &lt;?php
            /* translators: 1: Theme name, 2: Theme author. */
            printf( esc_html__( 'Theme: %1$s by %2$s.', 'midday' ), 'midday', '&lt;a href="https://github.com/LebCit"&gt;LebCit&lt;/a&gt;' );
            ?&gt;
    &lt;/div&gt;&lt;!-- .site-info --&gt;
&lt;/footer&gt;&lt;!-- #colophon --&gt;  </code></pre>

  <p>
    Here, we are interested with the code inside <code>&lt;div class="site-info"&gt;</code><span style="color: var(--eb-text-primary-color); font-family: var(--font-base); font-size: 1em; font-weight: var(--font-weight-normal);">, so let's cut it, paste it somewhere else (like notepad), and replace it by a php function.&nbsp;</span><br><div class="site-info">The code should now be like the following:</div>
  </p>
<pre class="line-numbers  language-html"><code>&lt;footer id="colophon" class="site-footer"&gt;
    &lt;div    class="site-info"&gt;
        &lt;?php midday_site_info(); ?&gt;
    &lt;/div&gt;&lt;!-- .site-info --&gt;
&lt;/footer&gt;&lt;!-- #colophon --&gt;</code></pre>

  <p>
    You can name the function whatever you like, but be sure to replace any name modification according to the changes you have made in the wright place in the code.
<br>Please note that I've added an&nbsp;<code>id="site-info"</code><id="site-info"> this will be used in the Customizer.</id="site-info">
  </p>

    <h2 id="2-put-the-footer-copyright-in-functionsphp">
      2- Put the footer copyright in functions.php
    </h2>

  <p>
    Now we have to connect this&nbsp;<code>midday_site_info()</code>&nbsp;function with the block of code previously pasted elsewhere.<br>In the <a href="https://codex.wordpress.org/Functions_File_Explained" target="_blank">functions.php</a> file of your theme or your child theme, put this code, I'll explain it just after :<br>
  </p>
<pre class="line-numbers  language-html"><code>/**
 * Output the theme's copyright depending on user's choice.
 */
function midday_site_info() {
    $midday_footer_copyright_area_checkbox = get_theme_mod( 'midday_footer_copyright_area_checkbox', true );
    $midday_custom_copyright_textarea      = get_theme_mod( 'midday_custom_copyright_textarea', '' );
    if ( ! empty( $midday_footer_copyright_area_checkbox ) ) :
            $html  = '&lt;a href="' . esc_url( 'https://wordpress.org/' ) . '"&gt;' . esc_html( 'Proudly powered by WordPress' ) . '&lt;/a&gt;';
            $html .= '&lt;span class="sep"&gt; | &lt;/span&gt;';
            $html .= esc_html( 'Theme: MidDay by ' ) . '&lt;a href="' . esc_url( 'https://lebcit.github.io/' ) . '"&gt;' . esc_html( 'LebCit' ) . '&lt;/a&gt;';
            echo wp_kses(
                $html,
                array(
                    'a'  =&gt; array(
                        'href' =&gt; array(),
                    ),
                    'span'  =&gt; array(
                        'class' =&gt; array(),
                    ),
                )
            );
    elseif ( empty( $midday_footer_copyright_area_checkbox ) && ! empty( $midday_custom_copyright_textarea ) ) :
        echo wp_kses_post( $midday_custom_copyright_textarea ); // Allow html.
    endif;
}</code></pre>

  <p>
    What in the hell is this ?<br>It's nothing 😂 it's just the same pasted elsewhere code in PHP with some variables and an <code>if/elseif</code> statement to take care of the user's choice.
  </p>

  <p>
    Inside the function, I've defined 2 variables. Each one is related to a <code>theme_mod</code> (theme modification) that we will create and explain in a moment.
  </p>

  <p>
    I've opened an <code>if</code> statement saying:<br>"<em>if the first variable (remember it's related to a theme_mod, yes it's a checkbox </em>😉<em>) is not empty (so it have a check tick, it's checked) please populate the copyright with the following code</em>".<br>The code here is pretty easy to understand.
<br>I've defined an <code>$html</code> variable replicating the pasted elsewhere code, then I've asked PHP to <code>echo</code> this code using <a href="https://developer.wordpress.org/reference/functions/wp_kses/" target="_blank"><code>wp_kses</code></a> filtering the text content and striping out disallowed HTML.
  </p>

  <p>
    In other words:
<br>"<em>hey <code>wp_kses</code>, please <code>echo</code> the defined <code>$html</code> variable, and please allow it to only have a <code>tag</code> with <code>href</code> attribute and <code>span</code> tag with <code>class</code> attribute, thank you very much</em>" 😊
  </p>

  <p>
    After that, I've opened an <code>elseif</code> statement saying:
<br>"<em>okay, <code>if</code> the first variable is empty (the checkbox is not checked) and the second variable (a text area) is not empty, please populate the copyright with the content of the text area allowing the user to use HTML inside it with <a href="https://developer.wordpress.org/reference/functions/wp_kses_post/" target="_blank"><code>wp_kses_post</code></a> that will keep an eye and make sure the user type allowed HTML only, that's it I've nothing more to ask so please close the <code>if</code> statement with this <code>endif;</code></em>"
  </p>

    <h2 id="3-create-settings-and-controls-in-the-customizer">
      3- Create settings and controls in the Customizer
    </h2>

  <p>
    Do you remember the 2 previous variables ? They where related to theme's modifications. It's time to create those <code>theme_mod</code> and test our code.
<br>To keep the functions.php file clean, we will put the following in a customizer.php file if you don't have one already. Yous just have to require it from functions.php like so :
  </p>
<pre class="line-numbers  language-html"><code>require get_template_directory() . '/inc/customizer.php';  
</code></pre>

  <p>
    Please note that in this example the file is in a folder named inc (for includes) at the root of the theme or the child theme, you can change this but be sure to indicate the correct path.
<br>Now, put the following in customizer.php, let's see the code and explain it later:
  </p>
<pre class="line-numbers  language-html"><code>function midday_customize_register( $wp_customize ) {
    /**
     * MidDay Theme Panel
     */
    $wp_customize-&gt;add_panel(
        'midday_panel',
        array(
            'title'       =&gt; __( 'MidDay Theme', 'midday' ),
            'description' =&gt; esc_html__( 'Customize MidDay Theme', 'midday' ),
            'priority'    =&gt; 0,
        )
    );

    /**
     * Footer Copyright Area Section.
     */
    $wp_customize-&gt;add_section(
        'midday_footer_copyright_area_section',
        array(
            'title'       =&gt; esc_html__( 'Footer Copyright Area', 'midday' ),
            'description' =&gt; __( 'Modify &lt;b&gt;Footer Copyright Area&lt;/b&gt;.', 'midday' ),
            'panel'       =&gt; 'midday_panel',
            'priority'    =&gt; 15,
        )
    );

    // Default copyright.
    $wp_customize-&gt;add_setting(
        'midday_footer_copyright_area_checkbox',
        array(
            'default'           =&gt; true,
            'transport'         =&gt; 'postMessage',
            'sanitize_callback' =&gt; 'midday_sanitize_checkbox',
        )
    );

    $wp_customize-&gt;add_control(
        'midday_footer_copyright_area_checkbox',
        array(
            'label'       =&gt; __( 'Enable/Disable Default Copyright.', 'midday' ),
            'description' =&gt; __( 'This checkbox, once &lt;b&gt;unchecked&lt;/b&gt;,&lt;br&gt;removes &lt;b&gt;Default Copyright.&lt;/b&gt;', 'midday' ),
            'section'     =&gt; 'midday_footer_copyright_area_section',
            'type'        =&gt; 'checkbox',
        )
    );

    $wp_customize-&gt;selective_refresh-&gt;add_partial(
        'midday_footer_copyright_area_checkbox',
        array(
            'selector'        =&gt; '#site-info',
            'settings'        =&gt; array( 'midday_footer_copyright_area_checkbox' ),
            'render_callback' =&gt; 'midday_site_info',
        )
    );

    // Custom copyright.
    $wp_customize-&gt;add_setting(
        'midday_custom_copyright_textarea',
        array(
            'default'           =&gt; '',
            'transport'         =&gt; 'postMessage',
            'sanitize_callback' =&gt; 'wp_kses_post', // Allow html.
        )
    );

    $wp_customize-&gt;add_control(
        'midday_custom_copyright_textarea',
        array(
            'label'       =&gt; esc_html__( 'Custom Copyright Textarea', 'midday' ),
            'description' =&gt; __( 'To display a &lt;b&gt;Custom Copyright&lt;/b&gt;,&lt;br&gt;&lt;b&gt;uncheck&lt;/b&gt; the &lt;b&gt;Default Copyright&lt;/b&gt; checkbox,&lt;br&gt;then type a custom copyright in the textarea.&lt;br&gt;&lt;b&gt;HTML&lt;/b&gt; is allowed !', 'midday' ),
            'section'     =&gt; 'midday_footer_copyright_area_section',
            'type'        =&gt; 'textarea',
            'input_attrs' =&gt; array(
                'style'       =&gt; 'border: 1px solid #999',
                'placeholder' =&gt; __( 'Enter Custom Copyright...', 'midday' ),
            ),
        )
    );

    $wp_customize-&gt;selective_refresh-&gt;add_partial(
        'midday_custom_copyright_textarea',
        array(
            'selector'        =&gt; '#site-info',
            'settings'        =&gt; array( 'midday_custom_copyright_textarea' ),
            'render_callback' =&gt; 'midday_site_info',
        )
    );

}
add_action( 'customize_register', 'midday_customize_register' );</code></pre>

  <p>
    Don't panic, it's pretty straightforward !
<br>Let's break it down and you'll see.
  </p>
<pre class="line-numbers  language-html"><code>function mytheme_customize_register( $wp_customize )
{
    //All our sections, settings, and controls will be added here
}
add_action( 'customize_register', 'mytheme_customize_register' );</code></pre>

  <p>
    This is how we hook a function to the <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/customize_register" target="_blank"><code>'customize_register'</code></a> action and put inside it our panels, sections, settings and controls.
<br>Looking at our code, you can now understand that I've created a panel, a section, 2 settings and their 2 related controls.
<br>I'm not going to dive into the Customizer, but if you're not familiar with it, a good start would be this <a href="https://maddisondesigns.com/2017/05/the-wordpress-customizer-a-developers-guide-part-1/" target="_blank">excellent guide</a> by Anthony Hortin.
<br>Instead, I'm going to explain a more important aspect here. If you take a good look at the code, you'll see something else under each control :
  </p>
<pre class="line-numbers  language-html"><code>$wp_customize-&gt;selective_refresh-&gt;add_partial</code></pre>

  <p>
    What is this and what does it do ?
<br>Well, look closer and you'll figure it out yourself 😂
<br>Just kidding, but in fact it's really clear.
<br>Let's take one setting it's control and the related selective_refresh:
  </p>
<pre class="line-numbers  language-html"><code>// Default copyright.
$wp_customize-&gt;add_setting(
    'midday_footer_copyright_area_checkbox',
    array(
        'default'           =&gt; true,
        'transport'         =&gt; 'postMessage',
        'sanitize_callback' =&gt; 'midday_sanitize_checkbox',
    )
);

$wp_customize-&gt;add_control(
    'midday_footer_copyright_area_checkbox',
    array(
        'label'       =&gt; __( 'Enable/Disable Default Copyright.', 'midday' ),
        'description' =&gt; __( 'This checkbox, once &lt;b&gt;unchecked&lt;/b&gt;,&lt;br&gt;removes &lt;b&gt;Default Copyright.&lt;/b&gt;', 'midday' ),
        'section'     =&gt; 'midday_footer_copyright_area_section',
        'type'        =&gt; 'checkbox',
    )
);

$wp_customize-&gt;selective_refresh-&gt;add_partial(
    'midday_footer_copyright_area_checkbox',
    array(
        'selector'        =&gt; '#site-info',
        'settings'        =&gt; array( 'midday_footer_copyright_area_checkbox' ),
        'render_callback' =&gt; 'midday_site_info',
    )
);</code></pre>

  <p>
    Remember the first variable ?<br>Well here is it's <code>theme_mod</code> !<br>Take a look at the <strong>setting</strong> name <code>midday_footer_copyright_area_checkbox</code> 😉
<br>The important part here is <code>'transport' =&gt; 'postMessage'</code>, because it tells the browser not to reload, but to make the change(s) in place !
<br>Another important aspect in the <strong>setting</strong> is <code>'sanitize_callback' =&gt; 'midday_sanitize_checkbox'</code>, this is a function to sanitize the checkbox, you should put it after the <code>'customize_register'</code> action hook:
  </p>
<pre class="line-numbers  language-html"><code>if ( ! function_exists( 'midday_sanitize_checkbox' ) ) {
    /**
        * Switch sanitization
        *
        * @param string $input Switch value.
        * @return integer  Sanitized value
        */
    function midday_sanitize_checkbox( $input ) {
        if ( false === $input ) {
            return 0;
        } else {
            return 1;
        }
    }
}  </code></pre>

  <p>
    In the <strong>control</strong>, the important part is the type of the control, as you can see it's defined as checkbox, no surprise, WYaskIWYG 😂<br>For the <strong>partial</strong>, the important part is the selector, it must be an id, now you know why I've added an <code><strong>id</strong></code> previously 👍<br>If you look at the settings and the <code>render_callback</code> of the <strong>partial</strong>, you'll understand that everything is related 🔗 and that we are just putting the wright piece in the wright place 🧩
  </p>

  <p>
    You maybe guessed it out or not, but yes I'm developing a new theme called MidDay (in fact I've finished it, just some clean up remaining) and I'll submit it very soon 😁
  </p>

  <p>
    I really hope that this was helpful.
  </p>
		</div>

			<div id="author-bio">


					<p>
					SYA,<br>LebCit.
					</p>


			
			</div>



		<nav id="post-navigation">
				<a href="https://lebcit.github.io/get-google-products-on-desktop-with-thunderbird.html" class="prev-post" rel="prev">
					&larr; Previous
					(Get Google products on desktop with Thunderbird)
				</a>             
			
				<a href="https://lebcit.github.io/hide-wordpress-toolbar-with-wp_add_inline_style.html" class="next-post" rel="next">
					Next 
					(Hide WordPress Toolbar with wp_add_inline_style) &rarr;
				</a>                
		</nav>

            <div id="related-posts">
               <h3>
                  SOME RELATED POSTS
               </h3>
               <div>

                     <section>     
                              <a href="https://lebcit.github.io/creating-a-customizer-control-with-javascript.html" >
                                 <img
								 	class="img-responsive"
                                    src="https://lebcit.github.io/media/posts/12/screenshot-creating-a-customizer-control-with-javascript.png"
                                       
                                     loading="lazy"
                                    height="626"
                                    width="1366"
                                    alt="">
                              </a>

                        <h4>
                           <a href="https://lebcit.github.io/creating-a-customizer-control-with-javascript.html">Creating a Customizer control with JavaScript</a>
                        </h4>

                     </section>
                     <section>     
                              <a href="https://lebcit.github.io/listen-for-changes-in-customizer-preview.html" >
                                 <img
								 	class="img-responsive"
                                    src="https://lebcit.github.io/media/posts/9/chiatto-bunny-by-emiliano-vittoriosi.jpg"
                                       
                                     loading="lazy"
                                    height="964"
                                    width="640"
                                    alt="">
                              </a>

                        <h4>
                           <a href="https://lebcit.github.io/listen-for-changes-in-customizer-preview.html">Listen for changes in Customizer Preview !</a>
                        </h4>

                     </section>

               </div>
            </div>

      </article>
   

</main>

				<footer class="footer unit-1">

				</footer>

			</div> 

		</div> 

		<script async src="https://lebcit.github.io/assets/js/scripts.js?v=d8709fa0ed7b5cb59eac2a973692919a"></script>
	</body>

</html>