<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
		<meta name="description" content="This post is about modifying WordPress theme&#39;s copyright from the Customizer" />
	
	<title>Modifying WordPress theme&#39;s copyright from the Customizer | { LebCit }</title>

	<link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon_32.png" />
	<link rel="stylesheet" href="/static/css/main.min.css" />

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/atom-one-dark.min.css" />
	  <style>
	.post-title {
		font-size: 2em;
		color: #222;
		margin-bottom: 0.2em;
	}

	.post-content {
		color: #444;
		line-height: 1.8em;
	}

	.post-content a {
		color: #000036;
		text-decoration-line: underline;
		text-decoration-color: #ea215a;
		text-decoration-style: double;
		text-decoration-thickness: 0.125em;
		text-underline-offset: 1.5px;
		text-decoration-skip-ink: none;
		transition: 0.5s;
	}

	.post-content a:hover,
	.post-content a:focus,
	.post-content a:active {
		text-decoration: none;
		color: white;
		box-shadow: inset 0 -1.3em 0 0 #000;
		outline: thin dotted #ea215a;
	}
</style>

<style>
	.single-post :not(pre) code {
		background-color: #272822;
		color: #f8f8f2;
		border-radius: 0.3rem;
		padding: 4px 5px 5px;
	}
</style>
  <style>
	@media screen and (min-width: 48em) and (max-width: 63.938em) {
		.post-title {
			font-size: 3em;
			margin-top: 0;
		}
	}

	@media (min-width: 64em) {
		.post-title {
			/* will affect single-post*/
			font-size: 4em;
			margin-top: 0;
		}
	}
</style>
    <style>
	.post-meta {
		color: #16663d;
		font-size: 90%;
		margin: 0;
	}

	.posted-on {
		color: #ad1a36;
	}

	.post-tag {
		margin: 0 0.1em;
		padding: 0.2em 0.8em;
		background: #ad1a36;
		font-size: 80%;
	}

	.post-tag a {
		color: #fff;
	}
</style>
  	<meta name="google-site-verification" content="uvbH-6ck13HtnTSvTxZ22YRcI3wok9_oj7X8Aodexo8" />
</head>

	<body>
		<!--Start page-->
		<div id="page" class="site grid">
			<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

			<!--Start menu-->
			<style>
	.invisible {
		visibility: hidden;
	}

	.overlay {
		position: fixed;
		width: 0;
		height: 100%;
		top: 0;
		right: 0;
		background-color: rgba(0, 0, 0, 0.9);
		z-index: 2;
		letter-spacing: normal;
		overflow-x: hidden;
		transition: 0.5s;
	}

	.overlay-content {
		position: relative;
		top: 25%;
		width: 100%;
		text-align: center;
		margin-top: 30px;
	}

	.overlay li {
		list-style: none;
	}

	.overlay a {
		padding: 8px;
		text-decoration: none;
		font-size: 36px;
		color: #818181;
		display: block;
		transition: 0.3s;
	}

	.overlay a:hover,
	.overlay a:focus {
		color: #f1f1f1;
		background-color: #222;
		border: 1px solid red;
		border-style: dashed;
	}

	.overlay .close-button {
		position: absolute;
		top: 20px;
		right: 45px;
		font-size: 60px;
	}
</style>

<div id="main-nav" aria-label="Main navigation" class="overlay invisible" tabindex="-1">
	<a href="#" id="close-button" class="close-button" aria-label="Close menu" title="Close menu">
		&times;
	</a>
	
	<div class="overlay-content">
		<a href="/">Home</a>
				<li class="pure-menu-item">
			<a href="/posts">Archive</a>
		</li>
				<li class="pure-menu-item">
			<a href="/tags">Tags</a>
		</li>
				<li class="pure-menu-item">
			<a href="/search">Search</a>
		</li>
				<li class="pure-menu-item">
			<a href="/pages/about">About Me</a>
		</li>
				<li class="pure-menu-item">
			<a href="/rss.xml">RSS</a>
		</li>
			</div>
</div>
			<!--End menu-->
			<!--Start masthead-->
			<style>
	/* SITE HEADER */
	.site-header {
		background: rgb(61, 79, 93);
		color: #fff;
	}

	.sidebar {
		margin: 1em;
	}

	.site-title,
	.site-description {
		margin: 0;
		line-height: 1.2;
	}

	.site-title a {
		color: #fff;
		text-decoration: none;
	}

	.site-title a:hover,
	.site-title a:focus {
		text-decoration: underline;
	}

	.site-description {
		font-weight: 300;
		color: rgb(176, 202, 219);
		margin: 0.5em 0 2em 0;
	}

	/* MENU BUTTON */
	.nav-list {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.nav-item {
		display: inline-block;
	}

	.nav-item a {
		background: black;
		border: 2px solid rgb(176, 202, 219);
		border-radius: 2px;
		color: #fff;
		padding: 0.5em 1em;
		margin-top: 1em;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		font-size: 85%;
	}

	.nav-item a:hover,
	.nav-item a:focus {
		border: 2px solid rgb(61, 146, 201);
		text-decoration: none;
	}

	.nav-item a svg {
		fill: aliceblue;
		vertical-align: bottom;
		padding: 4px 0 2px;
	}

	@media screen and (max-width: 35.5em) {
		.nav-item a svg {
			padding-top: 14px;
		}
	}

	@media screen and (min-width: 35.5em) and (max-width: 48em) {
		.nav-item a svg {
			padding-top: 12px;
		}
	}

	@media screen and (min-width: 48em) and (max-width: 63.938em) {
		.nav-item a svg {
			padding-top: 10px;
		}
	}

	/* more then 1023px an less then 1024px */
	@media (max-width: 63.969em) {
		.site-header.bio {
			background-image: none !important;
		}
		.nav {
			position: fixed;
			top: 15px;
			right: 10px;
			z-index: 1;
		}
	}

	@media (min-width: 64em) {
		.site-header {
			position: fixed;
			top: 0;
			bottom: 0;
			overflow-y: auto;
		}

		.site-header.bio {
			background-repeat: no-repeat;
			background-position: top;
			background-size: cover;
		}

		.site-header.bio .site-header-overlay {
			position: fixed;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: rgba(0, 0, 0, 0.6);
		}

		/* The emerging W3C standard
 that is currently Firefox-only */
		.site-header {
			scrollbar-width: thin;
		}

		/* Works on Chrome/Edge/Safari */
		.site-header::-webkit-scrollbar {
			width: 7px;
		}

		.site-header::-webkit-scrollbar-track {
			background: #313d48;
		}

		.site-header::-webkit-scrollbar-thumb {
			background-color: #81898f;
		}

		.sidebar {
			margin: 10% 2em;
			text-align: left;
		}

		.site-header.bio .sidebar {
			position: sticky;
		}
	}
</style>

<header id="masthead" 	class="site-header unit-1 unit-lg-2-5 bio" style="background-image: url('/static/img/copyright-word-under-magnifying-glass.webp')"  >
	<div class="site-header-overlay"></div>
		<div class="sidebar">
		<div class="site-branding">
			<h1 class="site-title">
				<a href="/">{ LebCit }</a>
			</h1>
			<p class="site-description">Autodidactic Web Developer. Love to Read, Learn &amp; DIMySelf!</p>
		</div>

				<nav id="nav" class="nav" aria-label="MENU">
			<ul class="nav-list">
				<li class="nav-item">
					<a id="menu-button" aria-controls="main-nav" aria-haspopup="true" tabindex="0" role="button">
						<span>MENU</span>
						<span class="menu-icon" aria-hidden="true">
							<svg
								version="1.1"
								x="0px"
								y="0px"
								width="30px"
								height="30px"
								viewbox="0 0 30 30"
								enable-background="new 0 0 30 30"
							>
								<rect width="30" height="5" />
								<rect y="24" width="30" height="5" />
								<rect y="12" width="30" height="5" />
							</svg>
						</span>
					</a>
				</li>
			</ul>
		</nav>
			</div>
	</header>
			<!--End masthead-->

			<!--Start content-->
			<div id="content" class="site-content unit-1 unit-lg-3-5">
				  				<main class="single-post">
					<!-- Start Markdown file content -->
					<style>
	.author-greetings {
		color: #000;
		line-height: normal;
	}
</style>

<header class="post-header">
	<h1 class="post-title">Modifying WordPress theme&#39;s copyright from the Customizer</h1>
		<p class="post-meta">
		<span>Posted on</span>
		<span class="posted-on">
			<time class="postList-date" datetime='2020-05/21'>
				Thu May 21 2020			</time>
		</span>

				<br />
		<span>Tagged</span>
		<!--Start tag(s)-->
				<span class="post-tag">
			<a href="/tags/Copyright">Copyright</a>
		</span>
				<span class="post-tag">
			<a href="/tags/Customizer">Customizer</a>
		</span>
				<span class="post-tag">
			<a href="/tags/Development">Development</a>
		</span>
				<span class="post-tag">
			<a href="/tags/Tips and Tricks">Tips and Tricks</a>
		</span>
				<!--End tag(s)-->
			</p>
	  </header>

<div class="post-content">
		<p>
		<em>This post is about modifying WordPress theme&#39;s copyright from the Customizer.</em>
	</p>
	  <p>One of the most asked question by new WordPress users is:
<strong>&quot;how to change the copyright ?&quot;</strong>.<br>They don&#39;t want a label of any kind on their site and that&#39;s totally comprehensible.<br>In this post, I&#39;ll be talking of my own sauce to give users the ability to remove or modify the copyright without touching one line of code !</p>
<p>If you are new to the Customizer, don&#39;t be afraid, I was too a long time ago...<br>So in this post I&#39;ll show you a technique to control the copyright of WordPress, generally displayed in the footer of a theme, from the Customizer.<br>You can use it in your own theme to give your users a clean and easy way to modify the footer copyright, or use it in a child theme to modify the footer copyright of the parent theme that you are using.</p>
<h2>1- Replace the footer copyright by a function</h2>
<p>First of all select the part that should be modified. Generally speaking, it&#39;s a sentence like: &quot;<em>Proudly powered by WordPress, Theme: theme-name by theme-author</em>&quot;.
I&#39;m going to take the generated footer by <a href="https://underscores.me/">_s</a> (underscores) as an example for this task.
Looking inside the <strong>footer.php</strong>, we can see a code like this:</p>
<pre><code class="hljs language-php">&lt;footer id=<span class="hljs-string">&quot;colophon&quot;</span> <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">site</span>-<span class="hljs-title">footer</span>&quot;&gt;
    &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>=&quot;<span class="hljs-title">site</span>-<span class="hljs-title">info</span>&quot;&gt;
        &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>=&quot;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">esc_url</span>( <span class="hljs-title">__</span>( &#x27;<span class="hljs-title">https</span>://<span class="hljs-title">wordpress</span>.<span class="hljs-title">org</span>/&#x27;, &#x27;<span class="hljs-title">midday</span>&#x27; ) ); ?&gt;&quot;&gt;
            &lt;?<span class="hljs-title">php</span>
            /* <span class="hljs-title">translators</span>: %<span class="hljs-title">s</span>: <span class="hljs-title">CMS</span> <span class="hljs-title">name</span>, <span class="hljs-title">i</span>.<span class="hljs-title">e</span>. <span class="hljs-title">WordPress</span>. */
            <span class="hljs-title">printf</span>( <span class="hljs-title">esc_html__</span>( &#x27;<span class="hljs-title">Proudly</span> <span class="hljs-title">powered</span> <span class="hljs-title">by</span> %<span class="hljs-title">s</span>&#x27;, &#x27;<span class="hljs-title">midday</span>&#x27; ), &#x27;<span class="hljs-title">WordPress</span>&#x27; );
            ?&gt;
        &lt;/<span class="hljs-title">a</span>&gt;
        &lt;<span class="hljs-title">span</span> <span class="hljs-title">class</span>=&quot;<span class="hljs-title">sep</span>&quot;&gt; | &lt;/<span class="hljs-title">span</span>&gt;
            &lt;?<span class="hljs-title">php</span>
            /* <span class="hljs-title">translators</span>: 1: <span class="hljs-title">Theme</span> <span class="hljs-title">name</span>, 2: <span class="hljs-title">Theme</span> <span class="hljs-title">author</span>. */
            <span class="hljs-title">printf</span>( <span class="hljs-title">esc_html__</span>( &#x27;<span class="hljs-title">Theme</span>: %1$<span class="hljs-title">s</span> <span class="hljs-title">by</span> %2$<span class="hljs-title">s</span>.&#x27;, &#x27;<span class="hljs-title">midday</span>&#x27; ), &#x27;<span class="hljs-title">midday</span>&#x27;, &#x27;&lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>=&quot;<span class="hljs-title">https</span>://<span class="hljs-title">github</span>.<span class="hljs-title">com</span>/<span class="hljs-title">LebCit</span>&quot;&gt;<span class="hljs-title">LebCit</span>&lt;/<span class="hljs-title">a</span>&gt;&#x27; );
            ?&gt;
    &lt;/<span class="hljs-title">div</span>&gt;&lt;!-- .<span class="hljs-title">site</span>-<span class="hljs-title">info</span> --&gt;
&lt;/<span class="hljs-title">footer</span>&gt;&lt;!-- #<span class="hljs-title">colophon</span> --&gt;</span>
</code></pre><p>Here, we are interested with the code inside <code>&lt;div class=&quot;site-info&quot;&gt;</code>, so let&#39;s cut it, paste it somewhere else (like notepad), and replace it by a php function.<br>The code should now be like the following:</p>
<pre><code class="hljs language-php">&lt;footer id=<span class="hljs-string">&quot;colophon&quot;</span> <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">site</span>-<span class="hljs-title">footer</span>&quot;&gt;
    &lt;<span class="hljs-title">div</span> <span class="hljs-title">id</span>=&quot;<span class="hljs-title">site</span>-<span class="hljs-title">info</span>&quot; <span class="hljs-title">class</span>=&quot;<span class="hljs-title">site</span>-<span class="hljs-title">info</span>&quot;&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">midday_site_info</span>(); ?&gt;
    &lt;/<span class="hljs-title">div</span>&gt;&lt;!-- .<span class="hljs-title">site</span>-<span class="hljs-title">info</span> --&gt;
&lt;/<span class="hljs-title">footer</span>&gt;&lt;!-- #<span class="hljs-title">colophon</span> --&gt;</span>
</code></pre><p>You can name the function whatever you like, but be sure to replace any name modification according to the changes you have made in the wright place in the code.<br>Please note that I&#39;ve added an <code>&lt;id=&quot;site-info&quot;&gt;</code> this will be used in the Customizer.</p>
<h2>2- Put the footer copyright in functions.php</h2>
<p>Now we have to connect this <code>midday_site_info()</code> function with the block of code previously pasted elsewhere.<br>In the <a href="https://codex.wordpress.org/Functions_File_Explained">functions.php</a> file of your theme or your child theme, put this code, I&#39;ll explain it just after :</p>
<pre><code class="hljs language-php"><span class="hljs-comment">/**
 * Output the theme&#x27;s copyright depending on user&#x27;s choice.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">midday_site_info</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-variable">$midday_footer_copyright_area_checkbox</span> = <span class="hljs-title function_ invoke__">get_theme_mod</span>( <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>, <span class="hljs-literal">true</span> );
    <span class="hljs-variable">$midday_custom_copyright_textarea</span>      = <span class="hljs-title function_ invoke__">get_theme_mod</span>( <span class="hljs-string">&#x27;midday_custom_copyright_textarea&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span> );
    <span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$midday_footer_copyright_area_checkbox</span> ) ) :
            <span class="hljs-variable">$html</span>  = <span class="hljs-string">&#x27;&lt;a href=&quot;&#x27;</span> . <span class="hljs-title function_ invoke__">esc_url</span>( <span class="hljs-string">&#x27;https://wordpress.org/&#x27;</span> ) . <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> . <span class="hljs-title function_ invoke__">esc_html</span>( <span class="hljs-string">&#x27;Proudly powered by WordPress&#x27;</span> ) . <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>;
            <span class="hljs-variable">$html</span> .= <span class="hljs-string">&#x27;&lt;span class=&quot;sep&quot;&gt; | &lt;/span&gt;&#x27;</span>;
            <span class="hljs-variable">$html</span> .= <span class="hljs-title function_ invoke__">esc_html</span>( <span class="hljs-string">&#x27;Theme: MidDay by &#x27;</span> ) . <span class="hljs-string">&#x27;&lt;a href=&quot;&#x27;</span> . <span class="hljs-title function_ invoke__">esc_url</span>( <span class="hljs-string">&#x27;https://lebcit.github.io/&#x27;</span> ) . <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> . <span class="hljs-title function_ invoke__">esc_html</span>( <span class="hljs-string">&#x27;LebCit&#x27;</span> ) . <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>;
            <span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">wp_kses</span>(
                <span class="hljs-variable">$html</span>,
                <span class="hljs-keyword">array</span>(
                    <span class="hljs-string">&#x27;a&#x27;</span>  =&gt; <span class="hljs-keyword">array</span>(
                        <span class="hljs-string">&#x27;href&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(),
                    ),
                    <span class="hljs-string">&#x27;span&#x27;</span>  =&gt; <span class="hljs-keyword">array</span>(
                        <span class="hljs-string">&#x27;class&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(),
                    ),
                )
            );
    <span class="hljs-keyword">elseif</span> ( <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$midday_footer_copyright_area_checkbox</span> ) &amp;&amp; ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$midday_custom_copyright_textarea</span> ) ) :
        <span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">wp_kses_post</span>( <span class="hljs-variable">$midday_custom_copyright_textarea</span> ); <span class="hljs-comment">// Allow html.</span>
    <span class="hljs-keyword">endif</span>;
}
</code></pre><p>What in the hell is this ?<br>It&#39;s nothing 😂 it&#39;s just the same pasted elsewhere code in PHP with some variables and an <code>if/elseif</code> statement to take care of the user&#39;s choice.</p>
<p>Inside the function, I&#39;ve defined 2 variables. Each one is related to a <code>theme_mod</code> (theme modification) that we will create and explain in a moment.</p>
<p>I&#39;ve opened an <code>if</code> statement saying:<br><em>if the first variable (remember it&#39;s related to a <code>theme_mod</code>, yes it&#39;s a checkbox)</em> 😉 <em>is not empty (so it have a check tick, it&#39;s checked) please populate the copyright with the following code</em>.
The code here is pretty easy to understand.
I&#39;ve defined an <code>$html</code> variable replicating the pasted elsewhere code, then I&#39;ve asked PHP to echo this code using <a href="https://developer.wordpress.org/reference/functions/wp_kses/">wp_kses</a> filtering the text content and striping out disallowed HTML.</p>
<p>In other words:<br><em>hey <code>wp_kses</code>, please echo the defined <code>$html</code> variable, and please allow it to only have <code>a</code> tag with <code>href</code> attribute and <code>span</code> tag with <code>class</code> attribute, thank you very much</em> 😊</p>
<p>After that, I&#39;ve opened an <code>elseif</code> statement saying:<br><em>okay, if the first variable is empty (the checkbox is not checked) and the second variable (a text area) is not empty, please populate the copyright with the content of the text area allowing the user to use HTML inside it with</em> <a href="https://developer.wordpress.org/reference/functions/wp_kses_post/">wp_kses_post</a> <em>that will keep an eye and make sure the user type allowed HTML only, that&#39;s it I&#39;ve nothing more to ask so please close the if statement with this <code>endif;</code></em></p>
<h2>3- Create settings and controls in the Customizer</h2>
<p>Do you remember the 2 previous variables ?<br>They where related to theme&#39;s modifications.<br>It&#39;s time to create those <code>theme_mod</code> and test our code.<br>To keep the functions.php file clean, we will put the following in a customizer.php file if you don&#39;t have one already. Yous just have to require it from functions.php like so :</p>
<pre><code class="hljs language-php"><span class="hljs-keyword">require</span> <span class="hljs-title function_ invoke__">get_template_directory</span>() . <span class="hljs-string">&#x27;/inc/customizer.php&#x27;</span>;
</code></pre><p>Please note that in this example the file is in a folder named inc (for includes) at the root of the theme or the child theme, you can change this but be sure to indicate the correct path.<br>Now, put the following in customizer.php, let&#39;s see the code and explain it later:</p>
<pre><code class="hljs language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">midday_customize_register</span>(<span class="hljs-params"> <span class="hljs-variable">$wp_customize</span> </span>) </span>{
    <span class="hljs-comment">/**
     * MidDay Theme Panel
     */</span>
    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_panel</span>(
        <span class="hljs-string">&#x27;midday_panel&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;title&#x27;</span>       =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;MidDay Theme&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">esc_html__</span>( <span class="hljs-string">&#x27;Customize MidDay Theme&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;priority&#x27;</span>    =&gt; <span class="hljs-number">0</span>,
        )
    );

    <span class="hljs-comment">/**
     * Footer Copyright Area Section.
     */</span>
    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_section</span>(
        <span class="hljs-string">&#x27;midday_footer_copyright_area_section&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;title&#x27;</span>       =&gt; <span class="hljs-title function_ invoke__">esc_html__</span>( <span class="hljs-string">&#x27;Footer Copyright Area&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;Modify &lt;b&gt;Footer Copyright Area&lt;/b&gt;.&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;panel&#x27;</span>       =&gt; <span class="hljs-string">&#x27;midday_panel&#x27;</span>,
            <span class="hljs-string">&#x27;priority&#x27;</span>    =&gt; <span class="hljs-number">15</span>,
        )
    );

    <span class="hljs-comment">// Default copyright.</span>
    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_setting</span>(
        <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;default&#x27;</span>           =&gt; <span class="hljs-literal">true</span>,
            <span class="hljs-string">&#x27;transport&#x27;</span>         =&gt; <span class="hljs-string">&#x27;postMessage&#x27;</span>,
            <span class="hljs-string">&#x27;sanitize_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;midday_sanitize_checkbox&#x27;</span>,
        )
    );

    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_control</span>(
        <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;label&#x27;</span>       =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;Enable/Disable Default Copyright.&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;This checkbox, once &lt;b&gt;unchecked&lt;/b&gt;,&lt;br&gt;removes &lt;b&gt;Default Copyright.&lt;/b&gt;&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;section&#x27;</span>     =&gt; <span class="hljs-string">&#x27;midday_footer_copyright_area_section&#x27;</span>,
            <span class="hljs-string">&#x27;type&#x27;</span>        =&gt; <span class="hljs-string">&#x27;checkbox&#x27;</span>,
        )
    );

    <span class="hljs-variable">$wp_customize</span>-&gt;selective_refresh-&gt;<span class="hljs-title function_ invoke__">add_partial</span>(
        <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;selector&#x27;</span>        =&gt; <span class="hljs-string">&#x27;#site-info&#x27;</span>,
            <span class="hljs-string">&#x27;settings&#x27;</span>        =&gt; <span class="hljs-keyword">array</span>( <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span> ),
            <span class="hljs-string">&#x27;render_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;midday_site_info&#x27;</span>,
        )
    );

    <span class="hljs-comment">// Custom copyright.</span>
    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_setting</span>(
        <span class="hljs-string">&#x27;midday_custom_copyright_textarea&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;default&#x27;</span>           =&gt; <span class="hljs-string">&#x27;&#x27;</span>,
            <span class="hljs-string">&#x27;transport&#x27;</span>         =&gt; <span class="hljs-string">&#x27;postMessage&#x27;</span>,
            <span class="hljs-string">&#x27;sanitize_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;wp_kses_post&#x27;</span>, // Allow html.
        )
    );

    <span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_control</span>(
        <span class="hljs-string">&#x27;midday_custom_copyright_textarea&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;label&#x27;</span>       =&gt; <span class="hljs-title function_ invoke__">esc_html__</span>( <span class="hljs-string">&#x27;Custom Copyright Textarea&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;To display a &lt;b&gt;Custom Copyright&lt;/b&gt;,&lt;br&gt;&lt;b&gt;uncheck&lt;/b&gt; the &lt;b&gt;Default Copyright&lt;/b&gt; checkbox,&lt;br&gt;then type a custom copyright in the textarea.&lt;br&gt;&lt;b&gt;HTML&lt;/b&gt; is allowed !&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            <span class="hljs-string">&#x27;section&#x27;</span>     =&gt; <span class="hljs-string">&#x27;midday_footer_copyright_area_section&#x27;</span>,
            <span class="hljs-string">&#x27;type&#x27;</span>        =&gt; <span class="hljs-string">&#x27;textarea&#x27;</span>,
            <span class="hljs-string">&#x27;input_attrs&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(
                <span class="hljs-string">&#x27;style&#x27;</span>       =&gt; <span class="hljs-string">&#x27;border: 1px solid #999&#x27;</span>,
                <span class="hljs-string">&#x27;placeholder&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;Enter Custom Copyright...&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
            ),
        )
    );

    <span class="hljs-variable">$wp_customize</span>-&gt;selective_refresh-&gt;<span class="hljs-title function_ invoke__">add_partial</span>(
        <span class="hljs-string">&#x27;midday_custom_copyright_textarea&#x27;</span>,
        <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&#x27;selector&#x27;</span>        =&gt; <span class="hljs-string">&#x27;#site-info&#x27;</span>,
            <span class="hljs-string">&#x27;settings&#x27;</span>        =&gt; <span class="hljs-keyword">array</span>( <span class="hljs-string">&#x27;midday_custom_copyright_textarea&#x27;</span> ),
            <span class="hljs-string">&#x27;render_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;midday_site_info&#x27;</span>,
        )
    );

}
<span class="hljs-title function_ invoke__">add_action</span>( <span class="hljs-string">&#x27;customize_register&#x27;</span>, <span class="hljs-string">&#x27;midday_customize_register&#x27;</span> );
</code></pre><p>Don&#39;t panic, it&#39;s pretty straightforward !<br>Let&#39;s break it down and you&#39;ll see.</p>
<pre><code class="hljs language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mytheme_customize_register</span>(<span class="hljs-params"> <span class="hljs-variable">$wp_customize</span> </span>)
</span>{
    <span class="hljs-comment">//All our sections, settings, and controls will be added here</span>
}
<span class="hljs-title function_ invoke__">add_action</span>( <span class="hljs-string">&#x27;customize_register&#x27;</span>, <span class="hljs-string">&#x27;mytheme_customize_register&#x27;</span> );
</code></pre><p>This is how we hook a function to the <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/customize_register">&#39;customize_register&#39;</a> action and put inside it our panels, sections, settings and controls.<br>Looking at our code, you can now understand that I&#39;ve created a panel, a section, 2 settings and their 2 related controls.<br>I&#39;m not going to dive into the Customizer, but if you&#39;re not familiar with it, a good start would be this <a href="https://maddisondesigns.com/2017/05/the-wordpress-customizer-a-developers-guide-part-1/">excellent guide</a> by Anthony Hortin.<br>Instead, I&#39;m going to explain a more important aspect here. If you take a good look at the code, you&#39;ll see something else under each control :</p>
<pre><code class="hljs language-php"><span class="hljs-variable">$wp_customize</span>-&gt;selective_refresh-&gt;add_partial
</code></pre><p>What is this and what does it do ?<br>Well, look closer and you&#39;ll figure it out yourself 😂<br> Just kidding, but in fact it&#39;s really clear.<br>Let&#39;s take one setting it&#39;s control and the related selective_refresh:</p>
<pre><code class="hljs language-php"><span class="hljs-comment">// Default copyright.</span>
<span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_setting</span>(
    <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
    <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&#x27;default&#x27;</span>           =&gt; <span class="hljs-literal">true</span>,
        <span class="hljs-string">&#x27;transport&#x27;</span>         =&gt; <span class="hljs-string">&#x27;postMessage&#x27;</span>,
        <span class="hljs-string">&#x27;sanitize_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;midday_sanitize_checkbox&#x27;</span>,
    )
);

<span class="hljs-variable">$wp_customize</span>-&gt;<span class="hljs-title function_ invoke__">add_control</span>(
    <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
    <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&#x27;label&#x27;</span>       =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;Enable/Disable Default Copyright.&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
        <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-title function_ invoke__">__</span>( <span class="hljs-string">&#x27;This checkbox, once &lt;b&gt;unchecked&lt;/b&gt;,&lt;br&gt;removes &lt;b&gt;Default Copyright.&lt;/b&gt;&#x27;</span>, <span class="hljs-string">&#x27;midday&#x27;</span> ),
        <span class="hljs-string">&#x27;section&#x27;</span>     =&gt; <span class="hljs-string">&#x27;midday_footer_copyright_area_section&#x27;</span>,
        <span class="hljs-string">&#x27;type&#x27;</span>        =&gt; <span class="hljs-string">&#x27;checkbox&#x27;</span>,
    )
);

<span class="hljs-variable">$wp_customize</span>-&gt;selective_refresh-&gt;<span class="hljs-title function_ invoke__">add_partial</span>(
    <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span>,
    <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&#x27;selector&#x27;</span>        =&gt; <span class="hljs-string">&#x27;#site-info&#x27;</span>,
        <span class="hljs-string">&#x27;settings&#x27;</span>        =&gt; <span class="hljs-keyword">array</span>( <span class="hljs-string">&#x27;midday_footer_copyright_area_checkbox&#x27;</span> ),
        <span class="hljs-string">&#x27;render_callback&#x27;</span> =&gt; <span class="hljs-string">&#x27;midday_site_info&#x27;</span>,
    )
);
</code></pre><p>Remember the first variable ?<br>Well here is it&#39;s <code>theme_mod</code> !<br>Take a look at the <strong>setting</strong> name <code>midday_footer_copyright_area_checkbox</code> 😉<br>The important part here is <code>&#39;transport&#39; =&gt; &#39;postMessage&#39;</code>, because it tells the browser not to reload, but to make the change(s) in place !<br>Another important aspect in the <strong>setting</strong> is <code>&#39;sanitize_callback&#39; =&gt; &#39;midday_sanitize_checkbox&#39;</code>, this is a function to sanitize the checkbox, you should put it <strong>after</strong> the <code>&#39;customize_register&#39;</code> action hook:</p>
<pre><code class="hljs language-php"><span class="hljs-keyword">if</span> ( ! <span class="hljs-title function_ invoke__">function_exists</span>( <span class="hljs-string">&#x27;midday_sanitize_checkbox&#x27;</span> ) ) {
    <span class="hljs-comment">/**
     * Switch sanitization
     *
     * <span class="hljs-doctag">@param</span> string $input Switch value.
     * <span class="hljs-doctag">@return</span> integer  Sanitized value
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">midday_sanitize_checkbox</span>(<span class="hljs-params"> <span class="hljs-variable">$input</span> </span>) </span>{
        <span class="hljs-keyword">if</span> ( <span class="hljs-literal">false</span> === <span class="hljs-variable">$input</span> ) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        }
    }
}
</code></pre><p>In the <strong>control</strong>, the important part is the type of the control, as you can see it&#39;s defined as checkbox, no surprise, WYaskIWYG 😂<br>For the <strong>partial</strong>, the important part is the selector, it must be an <code>id</code>, now you know why I&#39;ve added an <code>id</code> previously 👍<br>If you look at the <code>settings</code> and the <code>render_callback</code> of the <strong>partial</strong>, you&#39;ll understand that everything is related 🔗 and that we are just putting the wright piece in the wright place 🧩</p>
<p>You maybe guessed it out or not, but yes I&#39;m developing a new theme called MidDay (in fact I&#39;ve finished it, just some clean up remaining) and I&#39;ll submit it very soon 😁</p>
<p>I really hope that this was helpful.</p>
	<p class="author-greetings">
		SYA,
		<br />
		LebCit.
	</p>
</div>

  <style>
	.post-navigation {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: 1fr;
		grid-column-gap: 16px;
	}

	.post-navigation a {
		margin: 1.5em 0;
		border: 2px solid #000;
		background: #000;
		display: inline-block;
		padding: 0.7rem 0.9rem;
		font-size: 1rem;
		line-height: 1;
		border-radius: 3px;
		color: #fff;
		font-weight: 600;
		cursor: pointer;
	}

	.post-navigation .next-post {
		grid-column-end: -1;
	}

	.post-navigation a:hover {
		color: #fff;
		box-shadow: 0 0.25em #000;
	}

	.post-navigation a:active,
	.post-navigation a:focus {
		color: #fff;
		box-shadow: 0.25em 0.25em #000;
		outline: 0.1em solid;
	}

	@media screen and (max-width: 48em) {
		.post-navigation {
			display: grid;
			grid-template-columns: 1fr;
			grid-template-rows: repeat(2, 1fr);
			grid-row-gap: 16px;
		}

		.post-navigation a {
			margin: 0;
		}
	}
</style>

<nav class="post-navigation" aria-label="Post navigation">
		<a href="/posts/get-google-products-on-desktop-with-thunderbird" class="prev-post" rel="prev" aria-label="Go to the previous post">
		Previous: Get Google products on desktop with Thunderbird	</a>
	  	<a href="/posts/hide-wordpress-toolbar-with-wp_add_inline_style" class="next-post" rel="next" aria-label="Go to the next post">
		Next: Hide WordPress Toolbar with wp_add_inline_style	</a>
	</nav>
   <style>
	.related-posts div {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: 1fr;
		grid-column-gap: 16px;
	}
</style>

<div class="related-posts">
	<h3>SOME RELATED POSTS</h3>
	<div>
		      		<section>
			<a href="/posts/creating-a-customizer-control-with-javascript">
				    				<img
					class="img-responsive"
					src="/static/img/screenshot-creating-a-customizer-control-with-javascript.webp"
					alt="Screenshot creating a customizer control with javascript"
				/>
							</a>
			<h4>
				<a href="/posts/creating-a-customizer-control-with-javascript">Creating a Customizer control with JavaScript</a>
			</h4>
		</section>
		      		<section>
			<a href="/posts/listen-for-changes-in-customizer-preview">
				    				<img
					class="img-responsive"
					src="/static/img/ears-of-chiatto-bunny.webp"
					alt="Ears of chiatto bunny"
				/>
							</a>
			<h4>
				<a href="/posts/listen-for-changes-in-customizer-preview">Listen for changes in Customizer Preview !</a>
			</h4>
		</section>
			</div>
</div>
  					<!-- End Markdown file content -->
				</main>
				     			</div>
			<!--End content-->
			<!--Start footer-->
			<style>
	.site-footer {
		text-align: center;
		padding-top: 2em;
	}
	@media (min-width: 64em) {
		.site-footer {
			padding: 2em 3em;
			margin-left: 40%;
		}
	}
</style>

<footer id="colophon" class="site-footer unit-1">
	        	<div id="site-info" class="site-info">
		<p>
			<strong>2016 - 2023 | { LebCit }</strong>
			<br />
			<span>Proudly created with </span><a href='https://github.com/LebCit/blog-doc'>Blog-Doc</a>		</p>
	</div>
</footer>
			<!--End footer-->
		</div>
		<!--End page-->
		  		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
		
		<script src="/static/js/main.js"></script>
	</body>
</html>
