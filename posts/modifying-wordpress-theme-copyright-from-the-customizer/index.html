<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<meta name="description" content="This post is about modifying WordPress theme&#39;s copyright from the Customizer" />
	

	<title>Modifying WordPress theme&#39;s copyright from the Customizer | { LebCit }</title>

	<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon_32.png" />
	<link rel="stylesheet" href="/css/main.min.css" />

	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs-okaidia-theme/prism-okaidia.min.css" />
	  <style>
	.post-title {
		font-size: 2em;
		color: #222;
		margin-bottom: 0.2em;
	}

	.post-content {
		color: #444;
		line-height: 1.8em;
	}

	.post-content a {
		color: #000036;
		text-decoration-line: underline;
		text-decoration-color: #ea215a;
		text-decoration-style: double;
		text-decoration-thickness: 0.125em;
		text-underline-offset: 1.5px;
		text-decoration-skip-ink: none;
		transition: 0.5s;
	}

	.post-content a:hover,
	.post-content a:focus,
	.post-content a:active {
		text-decoration: none;
		color: white;
		box-shadow: inset 0 -1.3em 0 0 #000;
		outline: thin dotted #ea215a;
	}
</style>


<style>
	.single-post :not(pre) code {
		background-color: #272822;
		color: #f8f8f2;
		border-radius: 0.3rem;
		padding: 4px 5px 5px;
	}
</style>
  
<style>
	@media screen and (min-width: 48em) and (max-width: 63.938em) {
		.post-title {
			font-size: 3em;
			margin-top: 0;
		}
	}

	@media (min-width: 64em) {
		.post-title {
			/* will affect single-post*/
			font-size: 4em;
			margin-top: 0;
		}
	}
</style>
    
<style>
	.post-meta {
		color: #16663d;
		font-size: 90%;
		margin: 0;
	}

	.posted-on {
		color: #ad1a36;
	}

	.post-tag {
		margin: 0 0.1em;
		padding: 0.2em 0.8em;
		background: #ad1a36;
		font-size: 80%;
	}

	.post-tag a {
		color: #fff;
	}
</style>
  

	<meta name="google-site-verification" content="uvbH-6ck13HtnTSvTxZ22YRcI3wok9_oj7X8Aodexo8" />
</head>


	<body>
		<div id="page" class="site grid">
			<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

			<style>
	.invisible {
		visibility: hidden;
	}

	.overlay {
		position: fixed;
		width: 0;
		height: 100%;
		top: 0;
		right: 0;
		background-color: rgba(0, 0, 0, 0.9);
		z-index: 2;
		letter-spacing: normal;
		overflow-x: hidden;
		transition: 0.5s;
	}

	.overlay-content {
		position: relative;
		top: 25%;
		width: 100%;
		text-align: center;
		margin-top: 30px;
	}

	.overlay li {
		list-style: none;
	}

	.overlay a {
		padding: 8px;
		text-decoration: none;
		font-size: 36px;
		color: #818181;
		display: block;
		transition: 0.3s;
	}

	.overlay a:hover,
	.overlay a:focus {
		color: #f1f1f1;
		background-color: #222;
		border: 1px solid red;
		border-style: dashed;
	}

	.overlay .close-button {
		position: absolute;
		top: 20px;
		right: 45px;
		font-size: 60px;
	}
</style>

<div id="main-nav" aria-label="Main navigation" class="overlay invisible" tabindex="-1">
	<a href="#" id="close-button" class="close-button" aria-label="Close menu" title="Close menu">
		&times;
	</a>
	
	<div class="overlay-content">
		<a href="/">Home</a>
		
		<li class="pure-menu-item">
			<a href="/posts">Archive</a>
		</li>
		
		<li class="pure-menu-item">
			<a href="/tags">Tags</a>
		</li>
		
		<li class="pure-menu-item">
			<a href="/search">Search</a>
		</li>
		
		<li class="pure-menu-item">
			<a href="/pages/about">About Me</a>
		</li>
		
		<li class="pure-menu-item">
			<a href="/rss.xml">RSS</a>
		</li>
		
	</div>
</div>
  <style>
	/* SITE HEADER */
	.site-header {
		background: rgb(61, 79, 93);
		color: #fff;
	}

	.sidebar {
		margin: 1em;
	}

	.site-title,
	.site-description {
		margin: 0;
		line-height: 1.2;
	}

	.site-title a {
		color: #fff;
		text-decoration: none;
	}

	.site-title a:hover,
	.site-title a:focus {
		text-decoration: underline;
	}

	.site-description {
		font-weight: 300;
		color: rgb(176, 202, 219);
		margin: 0.5em 0 2em 0;
	}

	/* MENU BUTTON */
	.nav-list {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.nav-item {
		display: inline-block;
	}

	.nav-item a {
		background: black;
		border: 2px solid rgb(176, 202, 219);
		border-radius: 2px;
		color: #fff;
		padding: 0.5em 1em;
		margin-top: 1em;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		font-size: 85%;
	}

	.nav-item a:hover,
	.nav-item a:focus {
		border: 2px solid rgb(61, 146, 201);
		text-decoration: none;
	}

	.nav-item a svg {
		fill: aliceblue;
		vertical-align: bottom;
		padding: 4px 0 2px;
	}

	@media screen and (max-width: 35.5em) {
		.nav-item a svg {
			padding-top: 14px;
		}
	}

	@media screen and (min-width: 35.5em) and (max-width: 48em) {
		.nav-item a svg {
			padding-top: 12px;
		}
	}

	@media screen and (min-width: 48em) and (max-width: 63.938em) {
		.nav-item a svg {
			padding-top: 10px;
		}
	}

	/* more then 1023px an less then 1024px */
	@media (max-width: 63.969em) {
		.site-header.bio {
			background-image: none !important;
		}
		.nav {
			position: fixed;
			top: 15px;
			right: 10px;
			z-index: 1;
		}
	}

	@media (min-width: 64em) {
		.site-header {
			position: fixed;
			top: 0;
			bottom: 0;
			overflow-y: auto;
		}

		.site-header.bio {
			background-repeat: no-repeat;
			background-position: top;
			background-size: cover;
		}

		.site-header.bio .site-header-overlay {
			position: fixed;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: rgba(0, 0, 0, 0.6);
		}

		/* The emerging W3C standard
 that is currently Firefox-only */
		.site-header {
			scrollbar-width: thin;
		}

		/* Works on Chrome/Edge/Safari */
		.site-header::-webkit-scrollbar {
			width: 7px;
		}

		.site-header::-webkit-scrollbar-track {
			background: #313d48;
		}

		.site-header::-webkit-scrollbar-thumb {
			background-color: #81898f;
		}

		.sidebar {
			margin: 10% 2em;
			text-align: left;
		}

		.site-header.bio .sidebar {
			position: sticky;
		}
	}
</style>
<header id="masthead"  class="site-header unit-1 unit-lg-2-5 bio" style="background-image:
	url('/img/copyright-word-under-magnifying-glass.webp')"  >
	<div class="site-header-overlay"></div>
	
	<div class="sidebar">
		<div class="site-branding">
			<h1 class="site-title">
				<a href="/">{ LebCit }</a>
			</h1>
			<p class="site-description">Autodidactic Web Developer. Love to Read, Learn &amp; DIMySelf !</p>
		</div>

		
		<nav id="nav" class="nav" aria-label="MENU">
			<ul class="nav-list">
				<li class="nav-item">
					<a id="menu-button" aria-controls="main-nav" aria-haspopup="true" tabindex="0" role="button">
						<span>MENU</span>
						<span class="menu-icon" aria-hidden="true">
							<svg
								version="1.1"
								x="0px"
								y="0px"
								width="30px"
								height="30px"
								viewbox="0 0 30 30"
								enable-background="new 0 0 30 30"
							>
								<rect width="30" height="5" />
								<rect y="24" width="30" height="5" />
								<rect y="12" width="30" height="5" />
							</svg>
						</span>
					</a>
				</li>
			</ul>
		</nav>
		
	</div>
	
</header>


			<div id="content" class="site-content unit-1 unit-lg-3-5">
				  
				<main class="single-post"><style>
	.author-greetings {
		color: #000;
		line-height: normal;
	}
</style>

<header class="post-header">
	<h1 class="post-title">Modifying WordPress theme&#39;s copyright from the Customizer</h1>
	
	<p class="post-meta">
		<span>Posted on</span>
		<span class="posted-on">
			<time class="postList-date" datetime='2020-05/21'>
				Thu May 21 2020
			</time>
		</span>

		<br />
		Tagged  
		<span class="post-tag">
			<a href="/tags/Copyright">Copyright</a>
		</span>
		
		<span class="post-tag">
			<a href="/tags/Customizer">Customizer</a>
		</span>
		
		<span class="post-tag">
			<a href="/tags/Development">Development</a>
		</span>
		
		<span class="post-tag">
			<a href="/tags/Tips and Tricks">Tips and Tricks</a>
		</span>
		  
	</p>
	  
</header>

<div class="post-content">
	
	<p>
		<em>This post is about modifying WordPress theme&#39;s copyright from the Customizer.</em>
	</p>
	  <p>One of the most asked question by new WordPress users is:
<strong>&quot;how to change the copyright ?&quot;</strong>.<br>
They don't want a label of any kind on their site and that's totally comprehensible.<br>
In this post, I'll be talking of my own sauce to give users the ability to remove or modify the copyright without touching one line of code !</p>
<p>If you are new to the Customizer, don't be afraid, I was too a long time ago...<br>
So in this post I'll show you a technique to control the copyright of WordPress, generally displayed in the footer of a theme, from the Customizer.<br>
You can use it in your own theme to give your users a clean and easy way to modify the footer copyright, or use it in a child theme to modify the footer copyright of the parent theme that you are using.</p>
<h2>1- Replace the footer copyright by a function</h2>
<p>First of all select the part that should be modified. Generally speaking, it's a sentence like: &quot;<em>Proudly powered by WordPress, Theme: theme-name by theme-author</em>&quot;.
I'm going to take the generated footer by <a href="https://underscores.me/">_s</a> (underscores) as an example for this task.
Looking inside the <strong>footer.php</strong>, we can see a code like this:</p>
<pre class="language-php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>colophon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>site-footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>site-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">esc_url</span><span class="token punctuation">(</span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'https://wordpress.org/'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
            <span class="token comment">/* translators: %s: CMS name, i.e. WordPress. */</span>
            <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token function">esc_html__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Proudly powered by %s'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'WordPress'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token delimiter important">?></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sep<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
            <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
            <span class="token comment">/* translators: 1: Theme name, 2: Theme author. */</span>
            <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token function">esc_html__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Theme: %1$s by %2$s.'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'&lt;a href="https://github.com/LebCit">LebCit&lt;/a>'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token delimiter important">?></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- .site-info --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- #colophon --></span>
</code></pre>
<p>Here, we are interested with the code inside <code>&lt;div class=&quot;site-info&quot;&gt;</code>, so let's cut it, paste it somewhere else (like notepad), and replace it by a php function.<br>
The code should now be like the following:</p>
<pre class="language-php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>colophon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>site-footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>site-info<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>site-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">midday_site_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- .site-info --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- #colophon --></span>
</code></pre>
<p>You can name the function whatever you like, but be sure to replace any name modification according to the changes you have made in the wright place in the code.<br>
Please note that I've added an <code>&lt;id=&quot;site-info&quot;&gt;</code> this will be used in the Customizer.</p>
<h2>2- Put the footer copyright in functions.php</h2>
<p>Now we have to connect this <code>midday_site_info()</code> function with the block of code previously pasted elsewhere.<br>
In the <a href="https://codex.wordpress.org/Functions_File_Explained">functions.php</a> file of your theme or your child theme, put this code, I'll explain it just after :</p>
<pre class="language-php"><code class="language-php"><span class="token comment">/**
 * Output the theme's copyright depending on user's choice.
 */</span>
<span class="token keyword">function</span> <span class="token function-definition function">midday_site_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$midday_footer_copyright_area_checkbox</span> <span class="token operator">=</span> <span class="token function">get_theme_mod</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$midday_custom_copyright_textarea</span>      <span class="token operator">=</span> <span class="token function">get_theme_mod</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_custom_copyright_textarea'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$midday_footer_copyright_area_checkbox</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span>
            <span class="token variable">$html</span>  <span class="token operator">=</span> <span class="token string single-quoted-string">'&lt;a href="'</span> <span class="token operator">.</span> <span class="token function">esc_url</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'https://wordpress.org/'</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'">'</span> <span class="token operator">.</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Proudly powered by WordPress'</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/a>'</span><span class="token punctuation">;</span>
            <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;span class="sep"> | &lt;/span>'</span><span class="token punctuation">;</span>
            <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Theme: MidDay by '</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;a href="'</span> <span class="token operator">.</span> <span class="token function">esc_url</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'https://lebcit.github.io/'</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'">'</span> <span class="token operator">.</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'LebCit'</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/a>'</span><span class="token punctuation">;</span>
            <span class="token keyword">echo</span> <span class="token function">wp_kses</span><span class="token punctuation">(</span>
                <span class="token variable">$html</span><span class="token punctuation">,</span>
                <span class="token keyword">array</span><span class="token punctuation">(</span>
                    <span class="token string single-quoted-string">'a'</span>  <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
                        <span class="token string single-quoted-string">'href'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string single-quoted-string">'span'</span>  <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
                        <span class="token string single-quoted-string">'class'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">elseif</span> <span class="token punctuation">(</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$midday_footer_copyright_area_checkbox</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$midday_custom_copyright_textarea</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span>
        <span class="token keyword">echo</span> <span class="token function">wp_kses_post</span><span class="token punctuation">(</span> <span class="token variable">$midday_custom_copyright_textarea</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Allow html.</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>What in the hell is this ?<br>
It's nothing ðŸ˜‚ it's just the same pasted elsewhere code in PHP with some variables and an <code>if/elseif</code> statement to take care of the user's choice.</p>
<p>Inside the function, I've defined 2 variables. Each one is related to a <code>theme_mod</code> (theme modification) that we will create and explain in a moment.</p>
<p>I've opened an <code>if</code> statement saying:<br>
<em>if the first variable (remember it's related to a <code>theme_mod</code>, yes it's a checkbox)</em> ðŸ˜‰ <em>is not empty (so it have a check tick, it's checked) please populate the copyright with the following code</em>.
The code here is pretty easy to understand.
I've defined an <code>$html</code> variable replicating the pasted elsewhere code, then I've asked PHP to echo this code using <a href="https://developer.wordpress.org/reference/functions/wp_kses/">wp_kses</a> filtering the text content and striping out disallowed HTML.</p>
<p>In other words:<br>
<em>hey <code>wp_kses</code>, please echo the defined <code>$html</code> variable, and please allow it to only have <code>a</code> tag with <code>href</code> attribute and <code>span</code> tag with <code>class</code> attribute, thank you very much</em> ðŸ˜Š</p>
<p>After that, I've opened an <code>elseif</code> statement saying:<br>
<em>okay, if the first variable is empty (the checkbox is not checked) and the second variable (a text area) is not empty, please populate the copyright with the content of the text area allowing the user to use HTML inside it with</em> <a href="https://developer.wordpress.org/reference/functions/wp_kses_post/">wp_kses_post</a> <em>that will keep an eye and make sure the user type allowed HTML only, that's it I've nothing more to ask so please close the if statement with this <code>endif;</code></em></p>
<h2>3- Create settings and controls in the Customizer</h2>
<p>Do you remember the 2 previous variables ?<br>
They where related to theme's modifications.<br>
It's time to create those <code>theme_mod</code> and test our code.<br>
To keep the functions.php file clean, we will put the following in a customizer.php file if you don't have one already. Yous just have to require it from functions.php like so :</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">require</span> <span class="token function">get_template_directory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/inc/customizer.php'</span><span class="token punctuation">;</span>
</code></pre>
<p>Please note that in this example the file is in a folder named inc (for includes) at the root of the theme or the child theme, you can change this but be sure to indicate the correct path.<br>
Now, put the following in customizer.php, let's see the code and explain it later:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">function</span> <span class="token function-definition function">midday_customize_register</span><span class="token punctuation">(</span> <span class="token variable">$wp_customize</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * MidDay Theme Panel
     */</span>
    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_panel</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_panel'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'title'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MidDay Theme'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'description'</span> <span class="token operator">=></span> <span class="token function">esc_html__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Customize MidDay Theme'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'priority'</span>    <span class="token operator">=></span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Footer Copyright Area Section.
     */</span>
    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_section</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_footer_copyright_area_section'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'title'</span>       <span class="token operator">=></span> <span class="token function">esc_html__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Footer Copyright Area'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'description'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Modify &lt;b>Footer Copyright Area&lt;/b>.'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'panel'</span>       <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_panel'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'priority'</span>    <span class="token operator">=></span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Default copyright.</span>
    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_setting</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'default'</span>           <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'transport'</span>         <span class="token operator">=></span> <span class="token string single-quoted-string">'postMessage'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'sanitize_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_sanitize_checkbox'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_control</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'label'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Enable/Disable Default Copyright.'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'description'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'This checkbox, once &lt;b>unchecked&lt;/b>,&lt;br>removes &lt;b>Default Copyright.&lt;/b>'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'section'</span>     <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_footer_copyright_area_section'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'checkbox'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token property">selective_refresh</span><span class="token operator">-></span><span class="token function">add_partial</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'selector'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'#site-info'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'settings'</span>        <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'render_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_site_info'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Custom copyright.</span>
    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_setting</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_custom_copyright_textarea'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'default'</span>           <span class="token operator">=></span> <span class="token string single-quoted-string">''</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'transport'</span>         <span class="token operator">=></span> <span class="token string single-quoted-string">'postMessage'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'sanitize_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'wp_kses_post'</span><span class="token punctuation">,</span> <span class="token comment">// Allow html.</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_control</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_custom_copyright_textarea'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'label'</span>       <span class="token operator">=></span> <span class="token function">esc_html__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Custom Copyright Textarea'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'description'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'To display a &lt;b>Custom Copyright&lt;/b>,&lt;br>&lt;b>uncheck&lt;/b> the &lt;b>Default Copyright&lt;/b> checkbox,&lt;br>then type a custom copyright in the textarea.&lt;br>&lt;b>HTML&lt;/b> is allowed !'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'section'</span>     <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_footer_copyright_area_section'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'textarea'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'input_attrs'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
                <span class="token string single-quoted-string">'style'</span>       <span class="token operator">=></span> <span class="token string single-quoted-string">'border: 1px solid #999'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'placeholder'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Enter Custom Copyright...'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token property">selective_refresh</span><span class="token operator">-></span><span class="token function">add_partial</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'midday_custom_copyright_textarea'</span><span class="token punctuation">,</span>
        <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'selector'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'#site-info'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'settings'</span>        <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_custom_copyright_textarea'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'render_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_site_info'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'customize_register'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday_customize_register'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Don't panic, it's pretty straightforward !<br>
Let's break it down and you'll see.</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">function</span> <span class="token function-definition function">mytheme_customize_register</span><span class="token punctuation">(</span> <span class="token variable">$wp_customize</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//All our sections, settings, and controls will be added here</span>
<span class="token punctuation">}</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'customize_register'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'mytheme_customize_register'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This is how we hook a function to the <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/customize_register">'customize_register'</a> action and put inside it our panels, sections, settings and controls.<br>
Looking at our code, you can now understand that I've created a panel, a section, 2 settings and their 2 related controls.<br>
I'm not going to dive into the Customizer, but if you're not familiar with it, a good start would be this <a href="https://maddisondesigns.com/2017/05/the-wordpress-customizer-a-developers-guide-part-1/">excellent guide</a> by Anthony Hortin.<br>
Instead, I'm going to explain a more important aspect here. If you take a good look at the code, you'll see something else under each control :</p>
<pre class="language-php"><code class="language-php"><span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token property">selective_refresh</span><span class="token operator">-></span><span class="token property">add_partial</span>
</code></pre>
<p>What is this and what does it do ?<br>
Well, look closer and you'll figure it out yourself ðŸ˜‚<br>
Just kidding, but in fact it's really clear.<br>
Let's take one setting it's control and the related selective_refresh:</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Default copyright.</span>
<span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_setting</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'default'</span>           <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'transport'</span>         <span class="token operator">=></span> <span class="token string single-quoted-string">'postMessage'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'sanitize_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_sanitize_checkbox'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token function">add_control</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'label'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Enable/Disable Default Copyright.'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'description'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'This checkbox, once &lt;b>unchecked&lt;/b>,&lt;br>removes &lt;b>Default Copyright.&lt;/b>'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'midday'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'section'</span>     <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_footer_copyright_area_section'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'type'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'checkbox'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$wp_customize</span><span class="token operator">-></span><span class="token property">selective_refresh</span><span class="token operator">-></span><span class="token function">add_partial</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'selector'</span>        <span class="token operator">=></span> <span class="token string single-quoted-string">'#site-info'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'settings'</span>        <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_footer_copyright_area_checkbox'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'render_callback'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'midday_site_info'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Remember the first variable ?<br>
Well here is it's <code>theme_mod</code> !<br>
Take a look at the <strong>setting</strong> name <code>midday_footer_copyright_area_checkbox</code> ðŸ˜‰<br>
The important part here is <code>'transport' =&gt; 'postMessage'</code>, because it tells the browser not to reload, but to make the change(s) in place !<br>
Another important aspect in the <strong>setting</strong> is <code>'sanitize_callback' =&gt; 'midday_sanitize_checkbox'</code>, this is a function to sanitize the checkbox, you should put it <strong>after</strong> the <code>'customize_register'</code> action hook:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'midday_sanitize_checkbox'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Switch sanitization
     *
     * @param string $input Switch value.
     * @return integer  Sanitized value
     */</span>
    <span class="token keyword">function</span> <span class="token function-definition function">midday_sanitize_checkbox</span><span class="token punctuation">(</span> <span class="token variable">$input</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token constant boolean">false</span> <span class="token operator">===</span> <span class="token variable">$input</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In the <strong>control</strong>, the important part is the type of the control, as you can see it's defined as checkbox, no surprise, WYaskIWYG ðŸ˜‚<br>
For the <strong>partial</strong>, the important part is the selector, it must be an <code>id</code>, now you know why I've added an <code>id</code> previously ðŸ‘<br>
If you look at the <code>settings</code> and the <code>render_callback</code> of the <strong>partial</strong>, you'll understand that everything is related ðŸ”— and that we are just putting the wright piece in the wright place ðŸ§©</p>
<p>You maybe guessed it out or not, but yes I'm developing a new theme called MidDay (in fact I've finished it, just some clean up remaining) and I'll submit it very soon ðŸ˜</p>
<p>I really hope that this was helpful.</p>

	<p class="author-greetings">
		SYA,
		<br />
		LebCit.
	</p>
</div>

  <style>
	.post-navigation {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: 1fr;
		grid-column-gap: 16px;
	}

	.post-navigation a {
		margin: 1.5em 0;
		border: 2px solid #000;
		background: #000;
		display: inline-block;
		padding: 0.7rem 0.9rem;
		font-size: 1rem;
		line-height: 1;
		border-radius: 3px;
		color: #fff;
		font-weight: 600;
		cursor: pointer;
	}

	.post-navigation .next-post {
		grid-column-end: -1;
	}

	.post-navigation a:hover {
		color: #fff;
		box-shadow: 0 0.25em #000;
	}

	.post-navigation a:active,
	.post-navigation a:focus {
		color: #fff;
		box-shadow: 0.25em 0.25em #000;
		outline: 0.1em solid;
	}

	@media screen and (max-width: 48em) {
		.post-navigation {
			display: grid;
			grid-template-columns: 1fr;
			grid-template-rows: repeat(2, 1fr);
			grid-row-gap: 16px;
		}

		.post-navigation a {
			margin: 0;
		}
	}
</style>

<nav class="post-navigation" aria-label="Post navigation">
	
	<a href="/posts/get-google-products-on-desktop-with-thunderbird" class="prev-post" rel="prev" aria-label="Go to the previous post">
		Previous: Get Google products on desktop with Thunderbird
	</a>
	  
	<a href="/posts/hide-wordpress-toolbar-with-wp_add_inline_style" class="next-post" rel="next" aria-label="Go to the next post">Next: Hide WordPress Toolbar with wp_add_inline_style</a>
	
</nav>
   <style>
	.related-posts div {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: 1fr;
		grid-column-gap: 16px;
	}
</style>

<div class="related-posts">
	<h3>SOME RELATED POSTS</h3>
	<div>
		      
		<section>
			<a href="/posts/creating-a-customizer-control-with-javascript">
				    
				<img
					class="img-responsive"
					src="/img/screenshot-creating-a-customizer-control-with-javascript.webp"
					alt="Screenshot creating a customizer control with javascript"
				/>
				
			</a>
			<h4>
				<a href="/posts/creating-a-customizer-control-with-javascript">Creating a Customizer control with JavaScript</a>
			</h4>
		</section>
		      
		<section>
			<a href="/posts/listen-for-changes-in-customizer-preview">
				    
				<img
					class="img-responsive"
					src="/img/ears-of-chiatto-bunny.webp"
					alt="Ears of chiatto bunny"
				/>
				
			</a>
			<h4>
				<a href="/posts/listen-for-changes-in-customizer-preview">Listen for changes in Customizer Preview !</a>
			</h4>
		</section>
		
	</div>
</div>
  
</main>
				       
			</div>
			 <style>
	.site-footer {
		text-align: center;
		padding-top: 2em;
	}
	@media (min-width: 64em) {
		.site-footer {
			padding: 2em 3em;
			margin-left: 40%;
		}
	}
</style>

<footer id="colophon" class="site-footer unit-1">
	        

	<div id="site-info" class="site-info">
		<p>
			<strong>2016 - 2023 | { LebCit }</strong>
			<br />
			<span>Proudly created with </span><a href='https://github.com/LebCit/blog-doc-space'>Blog-Doc</a>
		</p>
	</div>
</footer>

		</div>
		   
		<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
		

		<script src="/js/main.js"></script>
	</body>
</html>
